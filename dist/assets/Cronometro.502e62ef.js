import{S}from"./sounds.8f72fe8f.js";import{_ as C,r as a,c as x,b as R,z as D,A as H,d as h,e as g,f as r,g as u,v as M,t as O,p as k,h as N}from"./index.e59ab0d4.js";const $=n=>(k("data-v-9c956af0"),n=n(),N(),n),F={id:"cronometro"},P={class:"base-timer"},U={class:"base-timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},z={class:"base-timer__circle"},G=$(()=>r("circle",{class:"base-timer__path-elapsed",cx:"50",cy:"50",r:"45"},null,-1)),V=["stroke-dasharray"],W={id:"base-timer-label",class:"base-timer__label"},Y={props:{segundos:{type:Number,default:10},reiniciar:{type:Boolean,default:!1}},emits:["endTime"],setup(n,{emit:f}){const _=n,b=a(283),y=a(10),I=a(5),t=a(null),o=x({info:{color:"green"},warning:{color:"orange",threshold:y},alert:{color:"red",threshold:I}}),l=_.segundos;let c=a(0),s=a(l),m=a(null),T=a(o.info.color),p=a(null);R(()=>{E()}),D(_.reiniciar,(e,d)=>{console.log(`reiniciarTiempo is ${reiniciarTiempo}`)});const w=()=>{clearInterval(m.value),document.getElementById("base-timer-label").style.animation="none",f("endTime")},E=()=>{t.value==null?(t.value=new S("tictocEditado",!0),t.value.playAudio()):t.value.stopAudio(),m.value=setInterval(()=>{c.value=c.value+=1,s.value=l-c.value,document.getElementById("base-timer-label").innerHTML=v(s.value),A(),B(s.value),s.value===0&&w()},1e3)},v=e=>{const d=Math.floor(e/60);let i=e%60;return i<10&&(i=`0${i}`),`${d}:${i}`},B=e=>{e<=o.alert.threshold?(document.getElementById("base-timer-path-remaining").classList.remove(o.warning.color),document.getElementById("base-timer-path-remaining").classList.add(o.alert.color)):e<=o.warning.threshold&&(document.getElementById("base-timer-path-remaining").classList.remove(o.info.color),document.getElementById("base-timer-path-remaining").classList.add(o.warning.color))},L=()=>{const e=s.value/l.value;return e-1/l.value*(1-e)},A=()=>{p.value=`${(L()*b.value).toFixed(0)} 283`};return H(()=>{console.log("limpiamos componente"),clearInterval(m.value),t.value!=null&&(t.value.stopAudio(),t.value=null)}),(e,d)=>(h(),g("div",F,[r("div",P,[(h(),g("svg",U,[r("g",z,[G,r("path",{id:"base-timer-path-remaining","stroke-dasharray":u(p),class:M(["base-timer__path-remaining",u(T)]),d:`\r
          M 50, 50\r
          m -45, 0\r
          a 45,45 0 1,0 90,0\r
          a 45,45 0 1,0 -90,0\r
        `},null,10,V)])])),r("span",W,O(v(u(s))),1)])]))}};var J=C(Y,[["__scopeId","data-v-9c956af0"]]);export{J as C};
