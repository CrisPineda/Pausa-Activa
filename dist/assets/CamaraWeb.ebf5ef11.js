var Fa=Object.defineProperty,Ua=Object.defineProperties;var Ia=Object.getOwnPropertyDescriptors;var Wt=Object.getOwnPropertySymbols;var Ha=Object.prototype.hasOwnProperty,Na=Object.prototype.propertyIsEnumerable;var Gt=(ve,_e,he)=>_e in ve?Fa(ve,_e,{enumerable:!0,configurable:!0,writable:!0,value:he}):ve[_e]=he,Vt=(ve,_e)=>{for(var he in _e||(_e={}))Ha.call(_e,he)&&Gt(ve,he,_e[he]);if(Wt)for(var he of Wt(_e))Na.call(_e,he)&&Gt(ve,he,_e[he]);return ve},Bt=(ve,_e)=>Ua(ve,Ia(_e));import{c as ze}from"./_commonjsHelpers.b8add541.js";import{r as Ke,b as za,o as qt,d as Wa,e as Ga,f as ut}from"./index.bc17c826.js";var Va={exports:{}};(function(ve,_e){(function(he,Pe){ve.exports=Pe()})(ze,function(){class he{constructor(e,i){this.handsfree=e,this.config=i,this.data={},this.dependenciesLoaded=!1,this.enabled=i.enabled,this.plugins=[],this.gestures=[],this.gestureEstimator=null,setTimeout(()=>{const n=this.getData;this.getData=async()=>{let h=await n.apply(this,arguments)||{};return h.gesture=this.getGesture(),this.runPlugins(),h};let l=this.getGesture;this.getGesture=()=>(l||(l=function(){}),l.apply(this,arguments))},0)}loadDependencies(){}updateData(){}updateGestureEstimator(){}enable(e=!0){this.handsfree.config[this.name]=this.config,this.handsfree.config[this.name].enabled=this.enabled=!0,document.body.classList.add(`handsfree-model-${this.name}`),e&&!this.dependenciesLoaded&&this.loadDependencies(),this.name==="weboji"&&(this.handsfree.debug.$canvas.weboji.style.display="block")}disable(){this.handsfree.config[this.name]=this.config,this.handsfree.config[this.name].enabled=this.enabled=!1,document.body.classList.remove(`handsfree-model-${this.name}`),setTimeout(()=>{if(this.name==="weboji")this.handsfree.debug.$canvas.weboji.style.display="none";else{var e;!((e=this.handsfree.debug.context[this.name])===null||e===void 0)&&e.clearRect&&this.handsfree.debug.context[this.name].clearRect(0,0,this.handsfree.debug.$canvas[this.name].width,this.handsfree.debug.$canvas[this.name].height)}Object.keys(this.handsfree.model).some(n=>this.handsfree.model[n].enabled)||this.handsfree.stop()},0)}loadDependency(e,i,n=!1){if(n){i&&i();return}const l=document.createElement("script");l.async=!0,l.onload=()=>{i&&i()},l.onerror=()=>{this.handsfree.emit("modelError",`Error loading ${e}`)},l.src=e,document.body.appendChild(l)}runPlugins(){!this.data||this.name==="handpose"&&!this.data.annotations||Object.keys(this.data).length&&this.plugins.forEach(e=>{var i;this.handsfree.plugin[e].enabled&&((i=this.handsfree.plugin[e])===null||i===void 0||i.onFrame(this.handsfree.data))})}}var Pe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof ze!="undefined"?ze:typeof self!="undefined"?self:{};function Xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $e(t,e,i){return i={path:e,exports:{},require:function(n,l){return Qe(n,l==null?i.path:l)}},t(i,i.exports),i.exports}function Qe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Ze=$e(function(t,e){(function(i,n){t.exports=n()})(typeof self!="undefined"?self:Pe,function(){return function(i){var n={};function l(h){if(n[h])return n[h].exports;var c=n[h]={i:h,l:!1,exports:{}};return i[h].call(c.exports,c,c.exports,l),c.l=!0,c.exports}return l.m=i,l.c=n,l.d=function(h,c,g){l.o(h,c)||Object.defineProperty(h,c,{enumerable:!0,get:g})},l.r=function(h){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},l.t=function(h,c){if(1&c&&(h=l(h)),8&c||4&c&&typeof h=="object"&&h&&h.__esModule)return h;var g=Object.create(null);if(l.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),2&c&&typeof h!="string")for(var E in h)l.d(g,E,function(C){return h[C]}.bind(null,E));return g},l.n=function(h){var c=h&&h.__esModule?function(){return h.default}:function(){return h};return l.d(c,"a",c),c},l.o=function(h,c){return Object.prototype.hasOwnProperty.call(h,c)},l.p="",l(l.s=0)}([function(i,n,l){l.r(n);var h={};function c(y){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(y)}l.r(h),l.d(h,"VictoryGesture",function(){return re}),l.d(h,"ThumbsUpGesture",function(){return Te});var g={Thumb:0,Index:1,Middle:2,Ring:3,Pinky:4,all:[0,1,2,3,4],nameMapping:{0:"Thumb",1:"Index",2:"Middle",3:"Ring",4:"Pinky"},pointsMapping:{0:[[0,1],[1,2],[2,3],[3,4]],1:[[0,5],[5,6],[6,7],[7,8]],2:[[0,9],[9,10],[10,11],[11,12]],3:[[0,13],[13,14],[14,15],[15,16]],4:[[0,17],[17,18],[18,19],[19,20]]},getName:function(y){return c(this.nameMapping[y])!==void 0&&this.nameMapping[y]},getPoints:function(y){return c(this.pointsMapping[y])!==void 0&&this.pointsMapping[y]}},E={NoCurl:0,HalfCurl:1,FullCurl:2,nameMapping:{0:"No Curl",1:"Half Curl",2:"Full Curl"},getName:function(y){return c(this.nameMapping[y])!==void 0&&this.nameMapping[y]}},C={VerticalUp:0,VerticalDown:1,HorizontalLeft:2,HorizontalRight:3,DiagonalUpRight:4,DiagonalUpLeft:5,DiagonalDownRight:6,DiagonalDownLeft:7,nameMapping:{0:"Vertical Up",1:"Vertical Down",2:"Horizontal Left",3:"Horizontal Right",4:"Diagonal Up Right",5:"Diagonal Up Left",6:"Diagonal Down Right",7:"Diagonal Down Left"},getName:function(y){return c(this.nameMapping[y])!==void 0&&this.nameMapping[y]}};function z(y){if(typeof Symbol=="undefined"||y[Symbol.iterator]==null){if(Array.isArray(y)||(y=function(D,G){if(!!D){if(typeof D=="string")return Y(D,G);var N=Object.prototype.toString.call(D).slice(8,-1);if(N==="Object"&&D.constructor&&(N=D.constructor.name),N==="Map"||N==="Set")return Array.from(N);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return Y(D,G)}}(y))){var S=0,A=function(){};return{s:A,n:function(){return S>=y.length?{done:!0}:{done:!1,value:y[S++]}},e:function(D){throw D},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,$,R=!0,I=!1;return{s:function(){_=y[Symbol.iterator]()},n:function(){var D=_.next();return R=D.done,D},e:function(D){I=!0,$=D},f:function(){try{R||_.return==null||_.return()}finally{if(I)throw $}}}}function Y(y,S){(S==null||S>y.length)&&(S=y.length);for(var A=0,_=new Array(S);A<S;A++)_[A]=y[A];return _}function v(y,S){var A=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);S&&(_=_.filter(function($){return Object.getOwnPropertyDescriptor(y,$).enumerable})),A.push.apply(A,_)}return A}function f(y,S,A){return S in y?Object.defineProperty(y,S,{value:A,enumerable:!0,configurable:!0,writable:!0}):y[S]=A,y}function b(y,S){for(var A=0;A<S.length;A++){var _=S[A];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}var p=function(){function y(_){(function($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")})(this,y),this.options=function($){for(var R=1;R<arguments.length;R++){var I=arguments[R]!=null?arguments[R]:{};R%2?v(Object(I),!0).forEach(function(D){f($,D,I[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(I)):v(Object(I)).forEach(function(D){Object.defineProperty($,D,Object.getOwnPropertyDescriptor(I,D))})}return $}({},{HALF_CURL_START_LIMIT:60,NO_CURL_START_LIMIT:130,DISTANCE_VOTE_POWER:1.1,SINGLE_ANGLE_VOTE_POWER:.9,TOTAL_ANGLE_VOTE_POWER:1.6},{},_)}var S,A;return S=y,(A=[{key:"estimate",value:function(_){var $,R=[],I=[],D=z(g.all);try{for(D.s();!($=D.n()).done;){var G,N=$.value,Q=g.getPoints(N),de=[],ie=[],ue=z(Q);try{for(ue.s();!(G=ue.n()).done;){var se=G.value,J=_[se[0]],ge=_[se[1]],ae=this.getSlopes(J,ge),fe=ae[0],be=ae[1];de.push(fe),ie.push(be)}}catch(O){ue.e(O)}finally{ue.f()}R.push(de),I.push(ie)}}catch(O){D.e(O)}finally{D.f()}var Se,Ee=[],ce=[],s=z(g.all);try{for(s.s();!(Se=s.n()).done;){var a=Se.value,o=a==g.Thumb?1:0,r=g.getPoints(a),u=_[r[o][0]],m=_[r[o+1][1]],w=_[r[3][1]],P=this.estimateFingerCurl(u,m,w),T=this.calculateFingerDirection(u,m,w,R[a].slice(o));Ee[a]=P,ce[a]=T}}catch(O){s.e(O)}finally{s.f()}return{curls:Ee,directions:ce}}},{key:"getSlopes",value:function(_,$){var R=this.calculateSlope(_[0],_[1],$[0],$[1]);return _.length==2?R:[R,this.calculateSlope(_[1],_[2],$[1],$[2])]}},{key:"angleOrientationAt",value:function(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,R=0,I=0,D=0;return _>=75&&_<=105?R=1*$:_>=25&&_<=155?I=1*$:D=1*$,[R,I,D]}},{key:"estimateFingerCurl",value:function(_,$,R){var I=_[0]-$[0],D=_[0]-R[0],G=$[0]-R[0],N=_[1]-$[1],Q=_[1]-R[1],de=$[1]-R[1],ie=_[2]-$[2],ue=_[2]-R[2],se=$[2]-R[2],J=Math.sqrt(I*I+N*N+ie*ie),ge=Math.sqrt(D*D+Q*Q+ue*ue),ae=Math.sqrt(G*G+de*de+se*se),fe=(ae*ae+J*J-ge*ge)/(2*ae*J);fe>1?fe=1:fe<-1&&(fe=-1);var be=Math.acos(fe);return(be=57.2958*be%180)>this.options.NO_CURL_START_LIMIT?E.NoCurl:be>this.options.HALF_CURL_START_LIMIT?E.HalfCurl:E.FullCurl}},{key:"estimateHorizontalDirection",value:function(_,$,R,I){return I==Math.abs(_)?_>0?C.HorizontalLeft:C.HorizontalRight:I==Math.abs($)?$>0?C.HorizontalLeft:C.HorizontalRight:R>0?C.HorizontalLeft:C.HorizontalRight}},{key:"estimateVerticalDirection",value:function(_,$,R,I){return I==Math.abs(_)?_<0?C.VerticalDown:C.VerticalUp:I==Math.abs($)?$<0?C.VerticalDown:C.VerticalUp:R<0?C.VerticalDown:C.VerticalUp}},{key:"estimateDiagonalDirection",value:function(_,$,R,I,D,G,N,Q){var de=this.estimateVerticalDirection(_,$,R,I),ie=this.estimateHorizontalDirection(D,G,N,Q);return de==C.VerticalUp?ie==C.HorizontalLeft?C.DiagonalUpLeft:C.DiagonalUpRight:ie==C.HorizontalLeft?C.DiagonalDownLeft:C.DiagonalDownRight}},{key:"calculateFingerDirection",value:function(_,$,R,I){var D=_[0]-$[0],G=_[0]-R[0],N=$[0]-R[0],Q=_[1]-$[1],de=_[1]-R[1],ie=$[1]-R[1],ue=Math.max(Math.abs(D),Math.abs(G),Math.abs(N)),se=Math.max(Math.abs(Q),Math.abs(de),Math.abs(ie)),J=0,ge=0,ae=0,fe=se/(ue+1e-5);fe>1.5?J+=this.options.DISTANCE_VOTE_POWER:fe>.66?ge+=this.options.DISTANCE_VOTE_POWER:ae+=this.options.DISTANCE_VOTE_POWER;var be=Math.sqrt(D*D+Q*Q),Se=Math.sqrt(G*G+de*de),Ee=Math.sqrt(N*N+ie*ie),ce=Math.max(be,Se,Ee),s=_[0],a=_[1],o=R[0],r=R[1];ce==be?(o=R[0],r=R[1]):ce==Ee&&(s=$[0],a=$[1]);var u=[s,a],m=[o,r],w=this.getSlopes(u,m),P=this.angleOrientationAt(w,this.options.TOTAL_ANGLE_VOTE_POWER);J+=P[0],ge+=P[1],ae+=P[2];var T,O=z(I);try{for(O.s();!(T=O.n()).done;){var L=T.value,j=this.angleOrientationAt(L,this.options.SINGLE_ANGLE_VOTE_POWER);J+=j[0],ge+=j[1],ae+=j[2]}}catch(Z){O.e(Z)}finally{O.f()}return J==Math.max(J,ge,ae)?this.estimateVerticalDirection(de,Q,ie,se):ae==Math.max(ge,ae)?this.estimateHorizontalDirection(G,D,N,ue):this.estimateDiagonalDirection(de,Q,ie,se,G,D,N,ue)}},{key:"calculateSlope",value:function(_,$,R,I){var D=($-I)/(_-R),G=180*Math.atan(D)/Math.PI;return G<=0?G=-G:G>0&&(G=180-G),G}}])&&b(S.prototype,A),y}();function d(y){if(typeof Symbol=="undefined"||y[Symbol.iterator]==null){if(Array.isArray(y)||(y=function(D,G){if(!!D){if(typeof D=="string")return F(D,G);var N=Object.prototype.toString.call(D).slice(8,-1);if(N==="Object"&&D.constructor&&(N=D.constructor.name),N==="Map"||N==="Set")return Array.from(N);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return F(D,G)}}(y))){var S=0,A=function(){};return{s:A,n:function(){return S>=y.length?{done:!0}:{done:!1,value:y[S++]}},e:function(D){throw D},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,$,R=!0,I=!1;return{s:function(){_=y[Symbol.iterator]()},n:function(){var D=_.next();return R=D.done,D},e:function(D){I=!0,$=D},f:function(){try{R||_.return==null||_.return()}finally{if(I)throw $}}}}function F(y,S){(S==null||S>y.length)&&(S=y.length);for(var A=0,_=new Array(S);A<S;A++)_[A]=y[A];return _}function W(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}function B(y,S){for(var A=0;A<S.length;A++){var _=S[A];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}var K=function(){function y(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};W(this,y),this.estimator=new p($),this.gestures=_}var S,A;return S=y,(A=[{key:"estimate",value:function(_,$){var R,I=[],D=this.estimator.estimate(_),G=[],N=d(g.all);try{for(N.s();!(R=N.n()).done;){var Q=R.value;G.push([g.getName(Q),E.getName(D.curls[Q]),C.getName(D.directions[Q])])}}catch(J){N.e(J)}finally{N.f()}var de,ie=d(this.gestures);try{for(ie.s();!(de=ie.n()).done;){var ue=de.value,se=ue.matchAgainst(D.curls,D.directions);se>=$&&I.push({name:ue.name,confidence:se})}}catch(J){ie.e(J)}finally{ie.f()}return{poseData:G,gestures:I}}}])&&B(S.prototype,A),y}();function k(y,S){return function(A){if(Array.isArray(A))return A}(y)||function(A,_){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(A)))){var $=[],R=!0,I=!1,D=void 0;try{for(var G,N=A[Symbol.iterator]();!(R=(G=N.next()).done)&&($.push(G.value),!_||$.length!==_);R=!0);}catch(Q){I=!0,D=Q}finally{try{R||N.return==null||N.return()}finally{if(I)throw D}}return $}}(y,S)||te(y,S)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function H(y){if(typeof Symbol=="undefined"||y[Symbol.iterator]==null){if(Array.isArray(y)||(y=te(y))){var S=0,A=function(){};return{s:A,n:function(){return S>=y.length?{done:!0}:{done:!1,value:y[S++]}},e:function(D){throw D},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,$,R=!0,I=!1;return{s:function(){_=y[Symbol.iterator]()},n:function(){var D=_.next();return R=D.done,D},e:function(D){I=!0,$=D},f:function(){try{R||_.return==null||_.return()}finally{if(I)throw $}}}}function te(y,S){if(y){if(typeof y=="string")return X(y,S);var A=Object.prototype.toString.call(y).slice(8,-1);return A==="Object"&&y.constructor&&(A=y.constructor.name),A==="Map"||A==="Set"?Array.from(A):A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?X(y,S):void 0}}function X(y,S){(S==null||S>y.length)&&(S=y.length);for(var A=0,_=new Array(S);A<S;A++)_[A]=y[A];return _}function U(y,S){for(var A=0;A<S.length;A++){var _=S[A];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}var q=function(){function y(_){(function($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")})(this,y),this.name=_,this.curls={},this.directions={},this.weights=[1,1,1,1,1],this.weightsRelative=[1,1,1,1,1]}var S,A;return S=y,(A=[{key:"addCurl",value:function(_,$,R){this.curls[_]===void 0&&(this.curls[_]=[]),this.curls[_].push([$,R])}},{key:"addDirection",value:function(_,$,R){this.directions[_]===void 0&&(this.directions[_]=[]),this.directions[_].push([$,R])}},{key:"setWeight",value:function(_,$){this.weights[_]=$;var R=this.weights.reduce(function(I,D){return I+D},0);this.weightsRelative=this.weights.map(function(I){return 5*I/R})}},{key:"matchAgainst",value:function(_,$){var R=0;for(var I in _){var D=_[I],G=this.curls[I];if(G!==void 0){var N,Q=H(G);try{for(Q.s();!(N=Q.n()).done;){var de=k(N.value,2),ie=de[0],ue=de[1];if(D==ie){R+=ue*this.weightsRelative[I];break}}}catch(ce){Q.e(ce)}finally{Q.f()}}else R+=this.weightsRelative[I]}for(var se in $){var J=$[se],ge=this.directions[se];if(ge!==void 0){var ae,fe=H(ge);try{for(fe.s();!(ae=fe.n()).done;){var be=k(ae.value,2),Se=be[0],Ee=be[1];if(J==Se){R+=Ee*this.weightsRelative[se];break}}}catch(ce){fe.e(ce)}finally{fe.f()}}else R+=this.weightsRelative[se]}return R}}])&&U(S.prototype,A),y}(),M=new q("victory");M.addCurl(g.Thumb,E.HalfCurl,.5),M.addCurl(g.Thumb,E.NoCurl,.5),M.addDirection(g.Thumb,C.VerticalUp,1),M.addDirection(g.Thumb,C.DiagonalUpLeft,1),M.addCurl(g.Index,E.NoCurl,1),M.addDirection(g.Index,C.VerticalUp,.75),M.addDirection(g.Index,C.DiagonalUpLeft,1),M.addCurl(g.Middle,E.NoCurl,1),M.addDirection(g.Middle,C.VerticalUp,1),M.addDirection(g.Middle,C.DiagonalUpLeft,.75),M.addCurl(g.Ring,E.FullCurl,1),M.addDirection(g.Ring,C.VerticalUp,.2),M.addDirection(g.Ring,C.DiagonalUpLeft,1),M.addDirection(g.Ring,C.HorizontalLeft,.2),M.addCurl(g.Pinky,E.FullCurl,1),M.addDirection(g.Pinky,C.VerticalUp,.2),M.addDirection(g.Pinky,C.DiagonalUpLeft,1),M.addDirection(g.Pinky,C.HorizontalLeft,.2),M.setWeight(g.Index,2),M.setWeight(g.Middle,2);var re=M,le=new q("thumbs_up");le.addCurl(g.Thumb,E.NoCurl,1),le.addDirection(g.Thumb,C.VerticalUp,1),le.addDirection(g.Thumb,C.DiagonalUpLeft,.25),le.addDirection(g.Thumb,C.DiagonalUpRight,.25);for(var me=0,x=[g.Index,g.Middle,g.Ring,g.Pinky];me<x.length;me++){var ye=x[me];le.addCurl(ye,E.FullCurl,1),le.addDirection(ye,C.HorizontalLeft,1),le.addDirection(ye,C.HorizontalRight,1)}var Te=le;n.default={GestureEstimator:K,GestureDescription:q,Finger:g,FingerCurl:E,FingerDirection:C,Gestures:h}}]).default})}),ne=Xe(Ze);class ct extends he{constructor(e,i){super(e,i),this.name="hands",this.palmPoints=[0,5,9,13,17],this.gestureEstimator=new ne.GestureEstimator([])}loadDependencies(e){if(this.handsfree.config.isClient){this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,()=>{this.onWarmUp(e)},!!window.drawConnectors);return}this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/hands/hands.js`,()=>{this.api=new window.Hands({locateFile:i=>`${this.handsfree.config.assetsPath}/@mediapipe/hands/${i}`}),this.api.setOptions(this.handsfree.config.hands),this.api.onResults(i=>this.dataReceived(i)),this.handsfree.getUserMedia(()=>{this.handsfree.mediapipeWarmups.isWarmingUp?this.handsfree.on("mediapipeWarmedUp",()=>{!this.handsfree.mediapipeWarmups.isWarmingUp&&!this.handsfree.mediapipeWarmups[this.name]&&this.warmUp(e)}):this.warmUp(e)}),this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,null,!!window.drawConnectors)})}warmUp(e){this.handsfree.mediapipeWarmups[this.name]=!0,this.handsfree.mediapipeWarmups.isWarmingUp=!0,this.api.send({image:this.handsfree.debug.$video}).then(()=>{this.handsfree.mediapipeWarmups.isWarmingUp=!1,this.onWarmUp(e)})}onWarmUp(e){this.dependenciesLoaded=!0,document.body.classList.add("handsfree-model-hands"),this.handsfree.emit("modelReady",this),this.handsfree.emit("handsModelReady",this),this.handsfree.emit("mediapipeWarmedUp",this),e&&e(this)}async getData(){return this.dependenciesLoaded&&await this.api.send({image:this.handsfree.debug.$video}),this.data}dataReceived(e){e.multiHandLandmarks&&(e=this.getCenterOfPalm(e)),e=this.forceHandedness(e),this.data=e,this.handsfree.data.hands=e,this.handsfree.isDebugging&&this.debug(e)}forceHandedness(e){return e.landmarks=[[],[],[],[]],e.landmarksVisible=[!1,!1,!1,!1],e.multiHandLandmarks&&e.multiHandLandmarks.forEach((i,n)=>{let l;n<2?l=e.multiHandedness[n].label==="Right"?0:1:l=e.multiHandedness[n].label==="Right"?2:3,e.landmarks[l]=i,e.landmarksVisible[l]=!0}),e}getCenterOfPalm(e){return e.multiHandLandmarks.forEach((i,n)=>{let l=0,h=0;this.palmPoints.forEach(c=>{l+=i[c].x,h+=i[c].y}),l/=this.palmPoints.length,h/=this.palmPoints.length,e.multiHandLandmarks[n][21]={x:l,y:h}}),e}debug(e){if(typeof drawConnectors!="undefined"&&(this.handsfree.debug.context.hands.clearRect(0,0,this.handsfree.debug.$canvas.hands.width,this.handsfree.debug.$canvas.hands.height),e.multiHandLandmarks))for(const i of e.multiHandLandmarks)drawConnectors(this.handsfree.debug.context.hands,i,HAND_CONNECTIONS,{color:"#00FF00",lineWidth:5}),drawLandmarks(this.handsfree.debug.context.hands,i,{color:"#FF0000",lineWidth:2})}updateGestureEstimator(){const e=[],i=[];this.gestures.forEach(n=>{if(!!this.handsfree.gesture[n].enabled&&(e.push(n),!this.handsfree.gesture[n].compiledDescription&&this.handsfree.gesture[n].enabled)){const l=new ne.GestureDescription(n);this.handsfree.gesture[n].description.forEach(h=>{switch(h[0]){case"addCurl":l[h[0]](ne.Finger[h[1]],ne.FingerCurl[h[2]],h[3]);break;case"addDirection":l[h[0]](ne.Finger[h[1]],ne.FingerDirection[h[2]],h[3]);break;case"setWeight":l[h[0]](ne.Finger[h[1]],h[2]);break}}),this.handsfree.gesture[n].compiledDescription=l}}),e.forEach(n=>{i.push(this.handsfree.gesture[n].compiledDescription)}),e.length&&(this.gestureEstimator=new ne.GestureEstimator(i))}getGesture(){let e=[null,null,null,null];return this.data.landmarks.forEach((i,n)=>{if(this.data.landmarksVisible[n]){const l=[];for(let c=0;c<21;c++)l.push([i[c].x*window.outerWidth,i[c].y*window.outerHeight,0]);const h=this.gestureEstimator.estimate(l,7.5);if(h.gestures.length?e[n]=h.gestures.reduce((c,g)=>{const E=this.handsfree.gesture[g.name].confidence;return g.confidence>=E&&g.confidence>c.confidence?g:c}):e[n]={name:"",confidence:0},e[n].name){const c=this.handsfree.gesture[e[n].name].confidence;e[n].confidence<c&&(e[n]={name:"",confidence:0})}e[n].pose=h.poseData}}),e}}class Yt extends he{constructor(e,i){super(e,i),this.name="facemesh",this.isWarmedUp=!1}loadDependencies(e){if(this.handsfree.config.isClient){this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,()=>{this.onWarmUp(e)},!!window.drawConnectors);return}this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/face_mesh/face_mesh.js`,()=>{this.api=new window.FaceMesh({locateFile:i=>`${this.handsfree.config.assetsPath}/@mediapipe/face_mesh/${i}`}),this.api.setOptions(this.handsfree.config.facemesh),this.api.onResults(i=>this.dataReceived(i)),this.handsfree.getUserMedia(()=>{this.handsfree.mediapipeWarmups.isWarmingUp?this.handsfree.on("mediapipeWarmedUp",()=>{!this.handsfree.mediapipeWarmups.isWarmingUp&&!this.handsfree.mediapipeWarmups[this.name]&&this.warmUp(e)}):this.warmUp(e)}),this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,null,!!window.drawConnectors)})}warmUp(e){this.handsfree.mediapipeWarmups[this.name]=!0,this.handsfree.mediapipeWarmups.isWarmingUp=!0,this.api.send({image:this.handsfree.debug.$video}).then(()=>{this.handsfree.mediapipeWarmups.isWarmingUp=!1,this.onWarmUp(e)})}onWarmUp(e){this.dependenciesLoaded=!0,document.body.classList.add("handsfree-model-facemesh"),this.handsfree.emit("modelReady",this),this.handsfree.emit("facemeshModelReady",this),this.handsfree.emit("mediapipeWarmedUp",this),e&&e(this)}async getData(){this.dependenciesLoaded&&await this.api.send({image:this.handsfree.debug.$video})}dataReceived(e){this.data=e,this.handsfree.data.facemesh=e,this.handsfree.isDebugging&&this.debug(e)}debug(e){if(typeof drawConnectors!="undefined"&&(this.handsfree.debug.context.facemesh.clearRect(0,0,this.handsfree.debug.$canvas.facemesh.width,this.handsfree.debug.$canvas.facemesh.height),e.multiFaceLandmarks))for(const i of e.multiFaceLandmarks)drawConnectors(this.handsfree.debug.context.facemesh,i,FACEMESH_TESSELATION,{color:"#C0C0C070",lineWidth:1}),drawConnectors(this.handsfree.debug.context.facemesh,i,FACEMESH_RIGHT_EYE,{color:"#FF3030"}),drawConnectors(this.handsfree.debug.context.facemesh,i,FACEMESH_RIGHT_EYEBROW,{color:"#FF3030"}),drawConnectors(this.handsfree.debug.context.facemesh,i,FACEMESH_LEFT_EYE,{color:"#30FF30"}),drawConnectors(this.handsfree.debug.context.facemesh,i,FACEMESH_LEFT_EYEBROW,{color:"#30FF30"}),drawConnectors(this.handsfree.debug.context.facemesh,i,FACEMESH_FACE_OVAL,{color:"#E0E0E0"}),drawConnectors(this.handsfree.debug.context.facemesh,i,FACEMESH_LIPS,{color:"#E0E0E0"})}}class Kt extends he{constructor(e,i){super(e,i),this.name="pose",this.hasLoadedAndRun=!1,this.palmPoints=[0,1,2,5,9,13,17]}loadDependencies(e){if(this.handsfree.config.isClient){this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,()=>{this.onWarmUp(e)},!!window.drawConnectors);return}this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/pose/pose.js`,()=>{this.api=new window.Pose({locateFile:i=>`${this.handsfree.config.assetsPath}/@mediapipe/pose/${i}`}),this.api.setOptions(this.handsfree.config.pose),this.api.onResults(i=>this.dataReceived(i)),this.handsfree.getUserMedia(()=>{this.handsfree.mediapipeWarmups.isWarmingUp?this.handsfree.on("mediapipeWarmedUp",()=>{!this.handsfree.mediapipeWarmups.isWarmingUp&&!this.handsfree.mediapipeWarmups[this.name]&&this.warmUp(e)}):this.warmUp(e)}),this.loadDependency(`${this.handsfree.config.assetsPath}/@mediapipe/drawing_utils.js`,null,!!window.drawConnectors)})}warmUp(e){this.handsfree.mediapipeWarmups[this.name]=!0,this.handsfree.mediapipeWarmups.isWarmingUp=!0,this.api.send({image:this.handsfree.debug.$video}).then(()=>{this.handsfree.mediapipeWarmups.isWarmingUp=!1,this.onWarmUp(e)})}onWarmUp(e){this.dependenciesLoaded=!0,document.body.classList.add("handsfree-model-pose"),this.handsfree.emit("modelReady",this),this.handsfree.emit("poseModelReady",this),this.handsfree.emit("mediapipeWarmedUp",this),e&&e(this)}async getData(){this.dependenciesLoaded&&await this.api.send({image:this.handsfree.debug.$video})}dataReceived(e){this.data=e,this.handsfree.data.pose=e,this.handsfree.isDebugging&&this.debug(e)}debug(e){this.handsfree.debug.context.pose.clearRect(0,0,this.handsfree.debug.$canvas.pose.width,this.handsfree.debug.$canvas.pose.height),e.poseLandmarks&&(drawConnectors(this.handsfree.debug.context.pose,e.poseLandmarks,POSE_CONNECTIONS,{color:"#00FF00",lineWidth:4}),drawLandmarks(this.handsfree.debug.context.pose,e.poseLandmarks,{color:"#FF0000",lineWidth:2}))}}class Xt extends he{constructor(e,i){super(e,i),this.name="handpose",this.three={scene:null,camera:null,renderer:null,meshes:[]},this.normalized=[],this.palmPoints=[0,1,2,5,9,13,17],this.gestureEstimator=new ne.GestureEstimator([])}loadDependencies(e){this.loadDependency(`${this.handsfree.config.assetsPath}/three/three.min.js`,()=>{this.loadDependency(`${this.handsfree.config.assetsPath}/@tensorflow/tf-core.js`,()=>{this.loadDependency(`${this.handsfree.config.assetsPath}/@tensorflow/tf-converter.js`,()=>{this.loadDependency(`${this.handsfree.config.assetsPath}/@tensorflow/tf-backend-${this.handsfree.config.handpose.backend}.js`,()=>{this.loadDependency(`${this.handsfree.config.assetsPath}/@tensorflow-models/handpose/handpose.js`,()=>{this.handsfree.getUserMedia(async()=>{await window.tf.setBackend(this.handsfree.config.handpose.backend),this.api=await handpose.load(this.handsfree.config.handpose.model),this.setup3D(),e&&e(this),this.dependenciesLoaded=!0,this.handsfree.emit("modelReady",this),this.handsfree.emit("handposeModelReady",this),document.body.classList.add("handsfree-model-handpose")})})})})},!!window.tf)},!!window.THREE)}async getData(){if(!this.handsfree.debug.$video)return;const e=await this.api.estimateHands(this.handsfree.debug.$video);return this.handsfree.data.handpose=this.data=Bt(Vt({},e[0]),{normalized:this.normalized,meshes:this.three.meshes}),e[0]&&this.updateMeshes(this.data),this.three.renderer.render(this.three.scene,this.three.camera),this.data}setup3D(){this.three={scene:new window.THREE.Scene,camera:new window.THREE.PerspectiveCamera(90,window.outerWidth/window.outerHeight,.1,1e3),renderer:new THREE.WebGLRenderer({alpha:!0,canvas:this.handsfree.debug.$canvas.handpose}),meshes:[]},this.three.renderer.setSize(window.outerWidth,window.outerHeight),this.three.camera.position.z=this.handsfree.debug.$video.videoWidth/4,this.three.camera.lookAt(new window.THREE.Vector3(0,0,0)),this.three.screen=new window.THREE.Mesh(new window.THREE.BoxGeometry(window.outerWidth,window.outerHeight,1),new window.THREE.MeshNormalMaterial),this.three.screen.position.z=300,this.three.scene.add(this.three.screen),this.three.raycaster=new window.THREE.Raycaster,this.three.arrow=new window.THREE.ArrowHelper(this.three.raycaster.ray.direction,this.three.raycaster.ray.origin,300,16711680),this.three.scene.add(this.three.arrow);for(let h=0;h<21;h++){const{isPalm:c}=this.getLandmarkProperty(h),g=new window.THREE.Object3D,E=new window.THREE.CylinderGeometry(c?5:10,5,1);let C=new window.THREE.MeshNormalMaterial;const z=new window.THREE.Mesh(E,C);z.rotation.x=Math.PI/2,g.add(z),this.three.scene.add(g),this.three.meshes.push(g)}const e=new window.THREE.Object3D,i=new window.THREE.CylinderGeometry(5,5,1);let n=new window.THREE.MeshNormalMaterial;const l=new window.THREE.Mesh(i,n);l.rotation.x=Math.PI/2,this.three.centerPalmObj=e,e.add(l),this.three.scene.add(e),this.three.meshes.push(e),this.three.screen.visible=!1}getLandmarkProperty(e){const i=[0,1,2,5,9,13,17],n=i.indexOf(e),l=n!=-1;let h;return l?h=i[(n+1)%i.length]:h=e-1,{isPalm:l,next:h}}updateMeshes(e){for(let i=0;i<this.three.meshes.length-1;i++){const{next:n}=this.getLandmarkProperty(i),l=this.webcam2space(...e.landmarks[i]),h=this.webcam2space(...e.landmarks[n]),c=l.clone().lerp(h,.5);if(this.three.meshes[i].position.set(c.x,c.y,c.z),this.normalized[i]=[this.handsfree.normalize(l.x,this.handsfree.debug.$video.videoWidth/-2,this.handsfree.debug.$video.videoWidth/2),this.handsfree.normalize(l.y,this.handsfree.debug.$video.videoHeight/-2,this.handsfree.debug.$video.videoHeight/2),this.three.meshes[i].position.z],this.three.meshes[i].scale.z=l.distanceTo(h),this.three.meshes[i].lookAt(h),i===8){this.three.arrow.position.set(c.x,c.y,c.z);const g=new window.THREE.Vector3().subVectors(l,c);this.three.arrow.setDirection(g.normalize()),this.three.arrow.setLength(800),this.three.arrow.direction=g}}this.updateCenterPalmMesh(e)}updateCenterPalmMesh(e){let i=[],n={x:0,y:0,z:0};this.palmPoints.forEach((l,h)=>{i.push(this.webcam2space(...e.landmarks[l])),n.x+=i[h].x,n.y+=i[h].y,n.z+=i[h].z}),n.x=n.x/this.palmPoints.length,n.y=n.y/this.palmPoints.length,n.z=n.z/this.palmPoints.length,this.three.centerPalmObj.position.set(n.x,n.y,n.z),this.three.centerPalmObj.scale.z=10,this.three.centerPalmObj.rotation.x=this.three.meshes[12].rotation.x-Math.PI/2,this.three.centerPalmObj.rotation.y=-this.three.meshes[12].rotation.y,this.three.centerPalmObj.rotation.z=this.three.meshes[12].rotation.z}webcam2space(e,i,n){return new window.THREE.Vector3(e-this.handsfree.debug.$video.videoWidth/2,-(i-this.handsfree.debug.$video.videoHeight/2),-n)}updateGestureEstimator(){const e=[],i=[];this.gestures.forEach(n=>{if(this.handsfree.gesture[n].enabled&&e.push(n),!this.handsfree.gesture[n].compiledDescription&&this.handsfree.gesture[n].enabled){const l=new ne.GestureDescription(n);this.handsfree.gesture[n].description.forEach(h=>{switch(h[0]){case"addCurl":l[h[0]](ne.Finger[h[1]],ne.FingerCurl[h[2]],h[3]);break;case"addDirection":l[h[0]](ne.Finger[h[1]],ne.FingerDirection[h[2]],h[3]);break;case"setWeight":l[h[0]](ne.Finger[h[1]],h[2]);break}}),this.handsfree.gesture[n].compiledDescription=l}}),e.forEach(n=>{i.push(this.handsfree.gesture[n].compiledDescription)}),e.length&&(this.gestureEstimator=new ne.GestureEstimator(i))}getGesture(){let e=null;if(this.data.landmarks&&this.gestureEstimator){const i=this.gestureEstimator.estimate(this.data.landmarks,7.5);i.gestures.length&&(e=i.gestures.reduce((n,l)=>n.confidence>l.confidence?n:l))}return e}}class Qt extends he{constructor(e,i){super(e,i),this.name="weboji"}loadDependencies(e){if(this.handsfree.config.isClient){this.onReady(e);return}this.loadDependency(`${this.handsfree.config.assetsPath}/jeeliz/jeelizFaceTransfer.js`,()=>{const i=this.handsfree.config.assetsPath+"/jeeliz/jeelizFaceTransferNNC.json";this.api=window.JEEFACETRANSFERAPI,fetch(i).then(n=>n.json()).then(n=>{this.api.init({canvasId:`handsfree-canvas-weboji-${this.handsfree.id}`,NNC:JSON.stringify(n),videoSettings:this.handsfree.config.weboji.videoSettings,callbackReady:()=>this.onReady(e)})}).catch(n=>{console.log(n),console.error(`Couldn't load weboji tracking model at ${i}`),this.handsfree.emit("modelError",n)})})}onReady(e){this.dependenciesLoaded=!0,this.handsfree.emit("modelReady",this),this.handsfree.emit("webojiModelReady",this),document.body.classList.add("handsfree-model-weboji"),e&&e(this)}getData(){return this.data.rotation=this.api.get_rotationStabilized(),this.data.translation=this.api.get_positionScale(),this.data.morphs=this.api.get_morphTargetInfluencesStabilized(),this.data.state=this.getStates(),this.data.degree=this.getDegrees(),this.data.isDetected=this.api.is_detected(),this.handsfree.data.weboji=this.data,this.data}getDegrees(){return[this.data.rotation[0]*180/Math.PI,this.data.rotation[1]*180/Math.PI,this.data.rotation[2]*180/Math.PI]}getStates(){const e=this.data.morphs,i=this.data.state||{};return i.smileRight=e[0]>this.handsfree.config.weboji.morphs.threshold.smileRight,i.smileLeft=e[1]>this.handsfree.config.weboji.morphs.threshold.smileLeft,i.smile=i.smileRight&&i.smileLeft,i.smirk=i.smileRight&&!i.smileLeft||!i.smileRight&&i.smileLeft,i.pursed=e[7]>this.handsfree.config.weboji.morphs.threshold.mouthRound,i.browLeftUp=e[4]>this.handsfree.config.weboji.morphs.threshold.browLeftUp,i.browRightUp=e[5]>this.handsfree.config.weboji.morphs.threshold.browRightUp,i.browsUp=e[4]>this.handsfree.config.weboji.morphs.threshold.browLeftUp&&e[5]>this.handsfree.config.weboji.morphs.threshold.browLeftUp,i.browLeftDown=e[2]>this.handsfree.config.weboji.morphs.threshold.browLeftDown,i.browRightDown=e[3]>this.handsfree.config.weboji.morphs.threshold.browRightDown,i.browsDown=e[2]>this.handsfree.config.weboji.morphs.threshold.browLeftDown&&e[3]>this.handsfree.config.weboji.morphs.threshold.browLeftDown,i.browsUpDown=i.browLeftDown&&i.browRightUp||i.browRightDown&&i.browLeftUp,i.eyeLeftClosed=e[8]>this.handsfree.config.weboji.morphs.threshold.eyeLeftClosed,i.eyeRightClosed=e[9]>this.handsfree.config.weboji.morphs.threshold.eyeRightClosed,i.eyesClosed=i.eyeLeftClosed&&i.eyeRightClosed,i.mouthClosed=e[6]===0,i.mouthOpen=e[6]>this.handsfree.config.weboji.morphs.threshold.mouthOpen,i}}function Zt(){this.__data__=[],this.size=0}var Jt=Zt;function ei(t,e){return t===e||t!==t&&e!==e}var We=ei;function ti(t,e){for(var i=t.length;i--;)if(We(t[i][0],e))return i;return-1}var Ge=ti,ii=Array.prototype,si=ii.splice;function ni(t){var e=this.__data__,i=Ge(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():si.call(e,i,1),--this.size,!0}var ri=ni;function ai(t){var e=this.__data__,i=Ge(e,t);return i<0?void 0:e[i][1]}var oi=ai;function li(t){return Ge(this.__data__,t)>-1}var hi=li;function di(t,e){var i=this.__data__,n=Ge(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}var fi=di;function Re(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Re.prototype.clear=Jt,Re.prototype.delete=ri,Re.prototype.get=oi,Re.prototype.has=hi,Re.prototype.set=fi;var Ve=Re;function ui(){this.__data__=new Ve,this.size=0}var ci=ui;function pi(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var mi=pi;function gi(t){return this.__data__.get(t)}var _i=gi;function vi(t){return this.__data__.has(t)}var yi=vi,bi=typeof Pe=="object"&&Pe&&Pe.Object===Object&&Pe,pt=bi,wi=typeof self=="object"&&self&&self.Object===Object&&self,Ti=pt||wi||Function("return this")(),De=Ti,Pi=De.Symbol,Be=Pi,mt=Object.prototype,Si=mt.hasOwnProperty,Ei=mt.toString,Fe=Be?Be.toStringTag:void 0;function xi(t){var e=Si.call(t,Fe),i=t[Fe];try{t[Fe]=void 0;var n=!0}catch{}var l=Ei.call(t);return n&&(e?t[Fe]=i:delete t[Fe]),l}var Di=xi,Ci=Object.prototype,$i=Ci.toString;function Ri(t){return $i.call(t)}var Oi=Ri,Ai="[object Null]",Li="[object Undefined]",gt=Be?Be.toStringTag:void 0;function Mi(t){return t==null?t===void 0?Li:Ai:gt&&gt in Object(t)?Di(t):Oi(t)}var Ue=Mi;function ji(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var we=ji,ki="[object AsyncFunction]",Fi="[object Function]",Ui="[object GeneratorFunction]",Ii="[object Proxy]";function Hi(t){if(!we(t))return!1;var e=Ue(t);return e==Fi||e==Ui||e==ki||e==Ii}var Je=Hi,Ni=De["__core-js_shared__"],et=Ni,_t=function(){var t=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function zi(t){return!!_t&&_t in t}var Wi=zi,Gi=Function.prototype,Vi=Gi.toString;function Bi(t){if(t!=null){try{return Vi.call(t)}catch{}try{return t+""}catch{}}return""}var qi=Bi,Yi=/[\\^$.*+?()[\]{}|]/g,Ki=/^\[object .+?Constructor\]$/,Xi=Function.prototype,Qi=Object.prototype,Zi=Xi.toString,Ji=Qi.hasOwnProperty,es=RegExp("^"+Zi.call(Ji).replace(Yi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ts(t){if(!we(t)||Wi(t))return!1;var e=Je(t)?es:Ki;return e.test(qi(t))}var is=ts;function ss(t,e){return t==null?void 0:t[e]}var ns=ss;function rs(t,e){var i=ns(t,e);return is(i)?i:void 0}var tt=rs,as=tt(De,"Map"),vt=as,os=tt(Object,"create"),Ie=os;function ls(){this.__data__=Ie?Ie(null):{},this.size=0}var hs=ls;function ds(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var fs=ds,us="__lodash_hash_undefined__",cs=Object.prototype,ps=cs.hasOwnProperty;function ms(t){var e=this.__data__;if(Ie){var i=e[t];return i===us?void 0:i}return ps.call(e,t)?e[t]:void 0}var gs=ms,_s=Object.prototype,vs=_s.hasOwnProperty;function ys(t){var e=this.__data__;return Ie?e[t]!==void 0:vs.call(e,t)}var bs=ys,ws="__lodash_hash_undefined__";function Ts(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Ie&&e===void 0?ws:e,this}var Ps=Ts;function Oe(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Oe.prototype.clear=hs,Oe.prototype.delete=fs,Oe.prototype.get=gs,Oe.prototype.has=bs,Oe.prototype.set=Ps;var yt=Oe;function Ss(){this.size=0,this.__data__={hash:new yt,map:new(vt||Ve),string:new yt}}var Es=Ss;function xs(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ds=xs;function Cs(t,e){var i=t.__data__;return Ds(e)?i[typeof e=="string"?"string":"hash"]:i.map}var qe=Cs;function $s(t){var e=qe(this,t).delete(t);return this.size-=e?1:0,e}var Rs=$s;function Os(t){return qe(this,t).get(t)}var As=Os;function Ls(t){return qe(this,t).has(t)}var Ms=Ls;function js(t,e){var i=qe(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}var ks=js;function Ae(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Ae.prototype.clear=Es,Ae.prototype.delete=Rs,Ae.prototype.get=As,Ae.prototype.has=Ms,Ae.prototype.set=ks;var Fs=Ae,Us=200;function Is(t,e){var i=this.__data__;if(i instanceof Ve){var n=i.__data__;if(!vt||n.length<Us-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Fs(n)}return i.set(t,e),this.size=i.size,this}var Hs=Is;function Le(t){var e=this.__data__=new Ve(t);this.size=e.size}Le.prototype.clear=ci,Le.prototype.delete=mi,Le.prototype.get=_i,Le.prototype.has=yi,Le.prototype.set=Hs;var Ns=Le,zs=function(){try{var t=tt(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ye=zs;function Ws(t,e,i){e=="__proto__"&&Ye?Ye(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var it=Ws;function Gs(t,e,i){(i!==void 0&&!We(t[e],i)||i===void 0&&!(e in t))&&it(t,e,i)}var st=Gs;function Vs(t){return function(e,i,n){for(var l=-1,h=Object(e),c=n(e),g=c.length;g--;){var E=c[t?g:++l];if(i(h[E],E,h)===!1)break}return e}}var Bs=Vs,qs=Bs(),Ys=qs,Ks=$e(function(t,e){var i=e&&!e.nodeType&&e,n=i&&!0&&t&&!t.nodeType&&t,l=n&&n.exports===i,h=l?De.Buffer:void 0,c=h?h.allocUnsafe:void 0;function g(E,C){if(C)return E.slice();var z=E.length,Y=c?c(z):new E.constructor(z);return E.copy(Y),Y}t.exports=g}),Xs=De.Uint8Array,bt=Xs;function Qs(t){var e=new t.constructor(t.byteLength);return new bt(e).set(new bt(t)),e}var Zs=Qs;function Js(t,e){var i=e?Zs(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var en=Js;function tn(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}var sn=tn,wt=Object.create,nn=function(){function t(){}return function(e){if(!we(e))return{};if(wt)return wt(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),rn=nn;function an(t,e){return function(i){return t(e(i))}}var on=an,ln=on(Object.getPrototypeOf,Object),Tt=ln,hn=Object.prototype;function dn(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||hn;return t===i}var Pt=dn;function fn(t){return typeof t.constructor=="function"&&!Pt(t)?rn(Tt(t)):{}}var un=fn;function cn(t){return t!=null&&typeof t=="object"}var Me=cn,pn="[object Arguments]";function mn(t){return Me(t)&&Ue(t)==pn}var St=mn,Et=Object.prototype,gn=Et.hasOwnProperty,_n=Et.propertyIsEnumerable,vn=St(function(){return arguments}())?St:function(t){return Me(t)&&gn.call(t,"callee")&&!_n.call(t,"callee")},nt=vn,yn=Array.isArray,rt=yn,bn=9007199254740991;function wn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bn}var xt=wn;function Tn(t){return t!=null&&xt(t.length)&&!Je(t)}var at=Tn;function Pn(t){return Me(t)&&at(t)}var Sn=Pn;function En(){return!1}var xn=En,Dt=$e(function(t,e){var i=e&&!e.nodeType&&e,n=i&&!0&&t&&!t.nodeType&&t,l=n&&n.exports===i,h=l?De.Buffer:void 0,c=h?h.isBuffer:void 0,g=c||xn;t.exports=g}),Dn="[object Object]",Cn=Function.prototype,$n=Object.prototype,Ct=Cn.toString,Rn=$n.hasOwnProperty,On=Ct.call(Object);function An(t){if(!Me(t)||Ue(t)!=Dn)return!1;var e=Tt(t);if(e===null)return!0;var i=Rn.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&Ct.call(i)==On}var Ln=An,Mn="[object Arguments]",jn="[object Array]",kn="[object Boolean]",Fn="[object Date]",Un="[object Error]",In="[object Function]",Hn="[object Map]",Nn="[object Number]",zn="[object Object]",Wn="[object RegExp]",Gn="[object Set]",Vn="[object String]",Bn="[object WeakMap]",qn="[object ArrayBuffer]",Yn="[object DataView]",Kn="[object Float32Array]",Xn="[object Float64Array]",Qn="[object Int8Array]",Zn="[object Int16Array]",Jn="[object Int32Array]",er="[object Uint8Array]",tr="[object Uint8ClampedArray]",ir="[object Uint16Array]",sr="[object Uint32Array]",ee={};ee[Kn]=ee[Xn]=ee[Qn]=ee[Zn]=ee[Jn]=ee[er]=ee[tr]=ee[ir]=ee[sr]=!0,ee[Mn]=ee[jn]=ee[qn]=ee[kn]=ee[Yn]=ee[Fn]=ee[Un]=ee[In]=ee[Hn]=ee[Nn]=ee[zn]=ee[Wn]=ee[Gn]=ee[Vn]=ee[Bn]=!1;function nr(t){return Me(t)&&xt(t.length)&&!!ee[Ue(t)]}var rr=nr;function ar(t){return function(e){return t(e)}}var or=ar,$t=$e(function(t,e){var i=e&&!e.nodeType&&e,n=i&&!0&&t&&!t.nodeType&&t,l=n&&n.exports===i,h=l&&pt.process,c=function(){try{var g=n&&n.require&&n.require("util").types;return g||h&&h.binding&&h.binding("util")}catch{}}();t.exports=c}),Rt=$t&&$t.isTypedArray,lr=Rt?or(Rt):rr,Ot=lr;function hr(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var ot=hr,dr=Object.prototype,fr=dr.hasOwnProperty;function ur(t,e,i){var n=t[e];(!(fr.call(t,e)&&We(n,i))||i===void 0&&!(e in t))&&it(t,e,i)}var cr=ur;function pr(t,e,i,n){var l=!i;i||(i={});for(var h=-1,c=e.length;++h<c;){var g=e[h],E=n?n(i[g],t[g],g,i,t):void 0;E===void 0&&(E=t[g]),l?it(i,g,E):cr(i,g,E)}return i}var mr=pr;function gr(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}var _r=gr,vr=9007199254740991,yr=/^(?:0|[1-9]\d*)$/;function br(t,e){var i=typeof t;return e=e==null?vr:e,!!e&&(i=="number"||i!="symbol"&&yr.test(t))&&t>-1&&t%1==0&&t<e}var At=br,wr=Object.prototype,Tr=wr.hasOwnProperty;function Pr(t,e){var i=rt(t),n=!i&&nt(t),l=!i&&!n&&Dt(t),h=!i&&!n&&!l&&Ot(t),c=i||n||l||h,g=c?_r(t.length,String):[],E=g.length;for(var C in t)(e||Tr.call(t,C))&&!(c&&(C=="length"||l&&(C=="offset"||C=="parent")||h&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||At(C,E)))&&g.push(C);return g}var Sr=Pr;function Er(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var xr=Er,Dr=Object.prototype,Cr=Dr.hasOwnProperty;function $r(t){if(!we(t))return xr(t);var e=Pt(t),i=[];for(var n in t)n=="constructor"&&(e||!Cr.call(t,n))||i.push(n);return i}var Rr=$r;function Or(t){return at(t)?Sr(t,!0):Rr(t)}var Lt=Or;function Ar(t){return mr(t,Lt(t))}var Lr=Ar;function Mr(t,e,i,n,l,h,c){var g=ot(t,i),E=ot(e,i),C=c.get(E);if(C){st(t,i,C);return}var z=h?h(g,E,i+"",t,e,c):void 0,Y=z===void 0;if(Y){var v=rt(E),f=!v&&Dt(E),b=!v&&!f&&Ot(E);z=E,v||f||b?rt(g)?z=g:Sn(g)?z=sn(g):f?(Y=!1,z=Ks(E,!0)):b?(Y=!1,z=en(E,!0)):z=[]:Ln(E)||nt(E)?(z=g,nt(g)?z=Lr(g):(!we(g)||Je(g))&&(z=un(E))):Y=!1}Y&&(c.set(E,z),l(z,E,n,h,c),c.delete(E)),st(t,i,z)}var jr=Mr;function Mt(t,e,i,n,l){t!==e&&Ys(e,function(h,c){if(l||(l=new Ns),we(h))jr(t,e,c,i,Mt,n,l);else{var g=n?n(ot(t,c),h,c+"",t,e,l):void 0;g===void 0&&(g=h),st(t,c,g)}},Lt)}var kr=Mt;function Fr(t){return t}var jt=Fr;function Ur(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var Ir=Ur,kt=Math.max;function Hr(t,e,i){return e=kt(e===void 0?t.length-1:e,0),function(){for(var n=arguments,l=-1,h=kt(n.length-e,0),c=Array(h);++l<h;)c[l]=n[e+l];l=-1;for(var g=Array(e+1);++l<e;)g[l]=n[l];return g[e]=i(c),Ir(t,this,g)}}var Nr=Hr;function zr(t){return function(){return t}}var Wr=zr,Gr=Ye?function(t,e){return Ye(t,"toString",{configurable:!0,enumerable:!1,value:Wr(e),writable:!0})}:jt,Vr=Gr,Br=800,qr=16,Yr=Date.now;function Kr(t){var e=0,i=0;return function(){var n=Yr(),l=qr-(n-i);if(i=n,l>0){if(++e>=Br)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Xr=Kr,Qr=Xr(Vr),Zr=Qr;function Jr(t,e){return Zr(Nr(t,e,jt),t+"")}var ea=Jr;function ta(t,e,i){if(!we(i))return!1;var n=typeof e;return(n=="number"?at(i)&&At(e,i.length):n=="string"&&e in i)?We(i[e],t):!1}var ia=ta;function sa(t){return ea(function(e,i){var n=-1,l=i.length,h=l>1?i[l-1]:void 0,c=l>2?i[2]:void 0;for(h=t.length>3&&typeof h=="function"?(l--,h):void 0,c&&ia(i[0],i[1],c)&&(h=l<3?void 0:h,l=1),e=Object(e);++n<l;){var g=i[n];g&&t(e,g,n,h)}return e})}var na=sa,ra=na(function(t,e,i){kr(t,e,i)}),je=ra;class aa{constructor(e,i){var n,l;this.plugin=e,this.handsfree=i,Object.keys(e).forEach(c=>{this[c]=e[c]});let h=(n=i.config)===null||n===void 0||(l=n.plugin)===null||l===void 0?void 0:l[e.name];typeof h=="boolean"&&(h={enabled:h}),typeof h=="object"&&(je(this.config,h),typeof h.enabled=="boolean"&&(this.enabled=h.enabled))}enable(){!this.enabled&&this.onEnable&&this.onEnable(this.handsfree),this.enabled=!0}disable(){this.enabled&&this.onDisable&&this.onDisable(this.handsfree),this.enabled=!1}}class oa{constructor(e,i){var n,l;this.handsfree=i,Object.keys(e).forEach(c=>{this[c]=e[c]});let h=(n=i.config)===null||n===void 0||(l=n.gesture)===null||l===void 0?void 0:l[e.name];typeof h=="boolean"&&(h={enabled:h}),typeof h=="object"&&(je(this.config,h),typeof h.enabled=="boolean"&&(this.enabled=h.enabled))}enable(){this.enabled=!0,this.updateGestureEstimator()}disable(){this.enabled=!1,this.updateGestureEstimator()}updateGestureEstimator(){this.models.forEach(e=>{this.handsfree.model[e].updateGestureEstimator()})}}class la extends oa{constructor(e,i){super(e,i),this.algorithm="fingerpose",this.compiledDescription=null}}var ha={autostart:!1,assetsPath:"https://unpkg.com/handsfree@8.5.1/build/lib/assets",isClient:!1,gesture:{},setup:{canvas:{weboji:{$el:null,width:1280,height:720},hands:{$el:null,width:1280,height:720},handpose:{$el:null,width:1280,height:720},pose:{$el:null,width:1280,height:720},facemesh:{$el:null,width:1280,height:720}},video:{$el:null,width:1280,height:720},wrap:{$el:null,$parent:null}},weboji:{enabled:!1,throttle:0,videoSettings:{videoElement:null,deviceId:null,facingMode:"user",idealWidth:320,idealHeight:240,minWidth:240,maxWidth:1280,minHeight:240,maxHeight:1280},morphs:{threshold:{smileRight:.7,smileLeft:.7,browLeftDown:.8,browRightDown:.8,browLeftUp:.8,browRightUp:.8,eyeLeftClosed:.4,eyeRightClosed:.4,mouthOpen:.3,mouthRound:.8,upperLip:.5}}},hands:{enabled:!1,maxNumHands:2,minDetectionConfidence:.5,minTrackingConfidence:.5},facemesh:{enabled:!1,maxNumFaces:1,minDetectionConfidence:.5,minTrackingConfidence:.5},pose:{enabled:!1,upperBodyOnly:!1,smoothLandmarks:!0,minDetectionConfidence:.5,minTrackingConfidence:.5},handpose:{enabled:!1,backend:"webgl",maxContinuousChecks:1/0,detectionConfidence:.8,iouThreshold:.3,scoreThreshold:.75},plugin:{}},da=function(){return De.Date.now()},lt=da,fa="[object Symbol]";function ua(t){return typeof t=="symbol"||Me(t)&&Ue(t)==fa}var ca=ua,Ft=0/0,pa=/^\s+|\s+$/g,ma=/^[-+]0x[0-9a-f]+$/i,ga=/^0b[01]+$/i,_a=/^0o[0-7]+$/i,va=parseInt;function ya(t){if(typeof t=="number")return t;if(ca(t))return Ft;if(we(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=we(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(pa,"");var i=ga.test(t);return i||_a.test(t)?va(t.slice(2),i?2:8):ma.test(t)?Ft:+t}var Ut=ya,ba="Expected a function",wa=Math.max,Ta=Math.min;function Pa(t,e,i){var n,l,h,c,g,E,C=0,z=!1,Y=!1,v=!0;if(typeof t!="function")throw new TypeError(ba);e=Ut(e)||0,we(i)&&(z=!!i.leading,Y="maxWait"in i,h=Y?wa(Ut(i.maxWait)||0,e):h,v="trailing"in i?!!i.trailing:v);function f(H){var te=n,X=l;return n=l=void 0,C=H,c=t.apply(X,te),c}function b(H){return C=H,g=setTimeout(F,e),z?f(H):c}function p(H){var te=H-E,X=H-C,U=e-te;return Y?Ta(U,h-X):U}function d(H){var te=H-E,X=H-C;return E===void 0||te>=e||te<0||Y&&X>=h}function F(){var H=lt();if(d(H))return W(H);g=setTimeout(F,p(H))}function W(H){return g=void 0,v&&n?f(H):(n=l=void 0,c)}function B(){g!==void 0&&clearTimeout(g),C=0,n=E=l=g=void 0}function K(){return g===void 0?c:W(lt())}function k(){var H=lt(),te=d(H);if(n=arguments,l=this,E=H,te){if(g===void 0)return b(E);if(Y)return clearTimeout(g),g=setTimeout(F,e),f(E)}return g===void 0&&(g=setTimeout(F,e)),c}return k.cancel=B,k.flush=K,k}var Sa=Pa,Ea="Expected a function";function xa(t,e,i){var n=!0,l=!0;if(typeof t!="function")throw new TypeError(Ea);return we(i)&&(n="leading"in i?!!i.leading:n,l="trailing"in i?!!i.trailing:l),Sa(t,e,{leading:n,maxWait:e,trailing:l})}var It=xa;/*!
 * VERSION: 2.1.3
 * DATE: 2019-05-17
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 */var ht=typeof window!="undefined"?window:ve.exports&&typeof ze!="undefined"?ze:window||{},pe=function(t){var e={},i=t.document,n=t.GreenSockGlobals=t.GreenSockGlobals||t;if(n.TweenLite)return n.TweenLite;var l=function(s){var a=s.split("."),o=n,r;for(r=0;r<a.length;r++)o[a[r]]=o=o[a[r]]||{};return o},h=l("com.greensock"),c=1e-8,g=function(s){var a=[],o=s.length,r;for(r=0;r!==o;a.push(s[r++]));return a},E=function(){},C=function(){var s=Object.prototype.toString,a=s.call([]);return function(o){return o!=null&&(o instanceof Array||typeof o=="object"&&!!o.push&&s.call(o)===a)}}(),z,Y,v,f,b,p={},d=function(s,a,o,r){this.sc=p[s]?p[s].sc:[],p[s]=this,this.gsClass=null,this.func=o;var u=[];this.check=function(m){for(var w=a.length,P=w,T,O,L,j;--w>-1;)(T=p[a[w]]||new d(a[w],[])).gsClass?(u[w]=T.gsClass,P--):m&&T.sc.push(this);if(P===0&&o)for(O=("com.greensock."+s).split("."),L=O.pop(),j=l(O.join("."))[L]=this.gsClass=o.apply(o,u),r&&(n[L]=e[L]=j),w=0;w<this.sc.length;w++)this.sc[w].check()},this.check(!0)},F=t._gsDefine=function(s,a,o,r){return new d(s,a,o,r)},W=h._class=function(s,a,o){return a=a||function(){},F(s,[],function(){return a},o),a};F.globals=n;var B=[0,0,1,1],K=W("easing.Ease",function(s,a,o,r){this._func=s,this._type=o||0,this._power=r||0,this._params=a?B.concat(a):B},!0),k=K.map={},H=K.register=function(s,a,o,r){for(var u=a.split(","),m=u.length,w=(o||"easeIn,easeOut,easeInOut").split(","),P,T,O,L;--m>-1;)for(T=u[m],P=r?W("easing."+T,null,!0):h.easing[T]||{},O=w.length;--O>-1;)L=w[O],k[T+"."+L]=k[L+T]=P[L]=s.getRatio?s:s[L]||new s};for(v=K.prototype,v._calcEnd=!1,v.getRatio=function(s){if(this._func)return this._params[0]=s,this._func.apply(null,this._params);var a=this._type,o=this._power,r=a===1?1-s:a===2?s:s<.5?s*2:(1-s)*2;return o===1?r*=r:o===2?r*=r*r:o===3?r*=r*r*r:o===4&&(r*=r*r*r*r),a===1?1-r:a===2?r:s<.5?r/2:1-r/2},z=["Linear","Quad","Cubic","Quart","Quint,Strong"],Y=z.length;--Y>-1;)v=z[Y]+",Power"+Y,H(new K(null,null,1,Y),v,"easeOut",!0),H(new K(null,null,2,Y),v,"easeIn"+(Y===0?",easeNone":"")),H(new K(null,null,3,Y),v,"easeInOut");k.linear=h.easing.Linear.easeIn,k.swing=h.easing.Quad.easeInOut;var te=W("events.EventDispatcher",function(s){this._listeners={},this._eventTarget=s||this});v=te.prototype,v.addEventListener=function(s,a,o,r,u){u=u||0;var m=this._listeners[s],w=0,P,T;for(this===f&&!b&&f.wake(),m==null&&(this._listeners[s]=m=[]),T=m.length;--T>-1;)P=m[T],P.c===a&&P.s===o?m.splice(T,1):w===0&&P.pr<u&&(w=T+1);m.splice(w,0,{c:a,s:o,up:r,pr:u})},v.removeEventListener=function(s,a){var o=this._listeners[s],r;if(o){for(r=o.length;--r>-1;)if(o[r].c===a){o.splice(r,1);return}}},v.dispatchEvent=function(s){var a=this._listeners[s],o,r,u;if(a)for(o=a.length,o>1&&(a=a.slice(0)),r=this._eventTarget;--o>-1;)u=a[o],u&&(u.up?u.c.call(u.s||r,{type:s,target:r}):u.c.call(u.s||r))};var X=t.requestAnimationFrame,U=t.cancelAnimationFrame,q=Date.now||function(){return new Date().getTime()},M=q();for(z=["ms","moz","webkit","o"],Y=z.length;--Y>-1&&!X;)X=t[z[Y]+"RequestAnimationFrame"],U=t[z[Y]+"CancelAnimationFrame"]||t[z[Y]+"CancelRequestAnimationFrame"];W("Ticker",function(s,a){var o=this,r=q(),u=a!==!1&&X?"auto":!1,m=500,w=33,P="tick",T,O,L,j,Z,V=function(oe){var Ce=q()-M,Ne,zt;Ce>m&&(r+=Ce-w),M+=Ce,o.time=(M-r)/1e3,Ne=o.time-Z,(!T||Ne>0||oe===!0)&&(o.frame++,Z+=Ne+(Ne>=j?.004:j-Ne),zt=!0),oe!==!0&&(L=O(V)),zt&&o.dispatchEvent(P)};te.call(o),o.time=o.frame=0,o.tick=function(){V(!0)},o.lagSmoothing=function(oe,Ce){if(!arguments.length)return m<1/c;m=oe||1/c,w=Math.min(Ce,m,0)},o.sleep=function(){L!=null&&(!u||!U?clearTimeout(L):U(L),O=E,L=null,o===f&&(b=!1))},o.wake=function(oe){L!==null?o.sleep():oe?r+=-M+(M=q()):o.frame>10&&(M=q()-m+5),O=T===0?E:!u||!X?function(Ce){return setTimeout(Ce,(Z-o.time)*1e3+1|0)}:X,o===f&&(b=!0),V(2)},o.fps=function(oe){if(!arguments.length)return T;T=oe,j=1/(T||60),Z=this.time+j,o.wake()},o.useRAF=function(oe){if(!arguments.length)return u;o.sleep(),u=oe,o.fps(T)},o.fps(s),setTimeout(function(){u==="auto"&&o.frame<5&&(i||{}).visibilityState!=="hidden"&&o.useRAF(!1)},1500)}),v=h.Ticker.prototype=new h.events.EventDispatcher,v.constructor=h.Ticker;var re=W("core.Animation",function(s,a){if(this.vars=a=a||{},this._duration=this._totalDuration=s||0,this._delay=Number(a.delay)||0,this._timeScale=1,this._active=!!a.immediateRender,this.data=a.data,this._reversed=!!a.reversed,!!J){b||f.wake();var o=this.vars.useFrames?se:J;o.add(this,o._time),this.vars.paused&&this.paused(!0)}});f=re.ticker=new h.Ticker,v=re.prototype,v._dirty=v._gc=v._initted=v._paused=!1,v._totalTime=v._time=0,v._rawPrevTime=-1,v._next=v._last=v._onUpdate=v._timeline=v.timeline=null,v._paused=!1;var le=function(){b&&q()-M>2e3&&((i||{}).visibilityState!=="hidden"||!f.lagSmoothing())&&f.wake();var s=setTimeout(le,2e3);s.unref&&s.unref()};le(),v.play=function(s,a){return s!=null&&this.seek(s,a),this.reversed(!1).paused(!1)},v.pause=function(s,a){return s!=null&&this.seek(s,a),this.paused(!0)},v.resume=function(s,a){return s!=null&&this.seek(s,a),this.paused(!1)},v.seek=function(s,a){return this.totalTime(Number(s),a!==!1)},v.restart=function(s,a){return this.reversed(!1).paused(!1).totalTime(s?-this._delay:0,a!==!1,!0)},v.reverse=function(s,a){return s!=null&&this.seek(s||this.totalDuration(),a),this.reversed(!0).paused(!1)},v.render=function(s,a,o){},v.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},v.isActive=function(){var s=this._timeline,a=this._startTime,o;return!s||!this._gc&&!this._paused&&s.isActive()&&(o=s.rawTime(!0))>=a&&o<a+this.totalDuration()/this._timeScale-c},v._enabled=function(s,a){return b||f.wake(),this._gc=!s,this._active=this.isActive(),a!==!0&&(s&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!s&&this.timeline&&this._timeline._remove(this,!0)),!1},v._kill=function(s,a){return this._enabled(!1,!1)},v.kill=function(s,a){return this._kill(s,a),this},v._uncache=function(s){for(var a=s?this:this.timeline;a;)a._dirty=!0,a=a.timeline;return this},v._swapSelfInParams=function(s){for(var a=s.length,o=s.concat();--a>-1;)s[a]==="{self}"&&(o[a]=this);return o},v._callback=function(s){var a=this.vars,o=a[s],r=a[s+"Params"],u=a[s+"Scope"]||a.callbackScope||this,m=r?r.length:0;switch(m){case 0:o.call(u);break;case 1:o.call(u,r[0]);break;case 2:o.call(u,r[0],r[1]);break;default:o.apply(u,r)}},v.eventCallback=function(s,a,o,r){if((s||"").substr(0,2)==="on"){var u=this.vars;if(arguments.length===1)return u[s];a==null?delete u[s]:(u[s]=a,u[s+"Params"]=C(o)&&o.join("").indexOf("{self}")!==-1?this._swapSelfInParams(o):o,u[s+"Scope"]=r),s==="onUpdate"&&(this._onUpdate=a)}return this},v.delay=function(s){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+s-this._delay),this._delay=s,this):this._delay},v.duration=function(s){return arguments.length?(this._duration=this._totalDuration=s,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&s!==0&&this.totalTime(this._totalTime*(s/this._duration),!0),this):(this._dirty=!1,this._duration)},v.totalDuration=function(s){return this._dirty=!1,arguments.length?this.duration(s):this._totalDuration},v.time=function(s,a){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(s>this._duration?this._duration:s,a)):this._time},v.totalTime=function(s,a,o){if(b||f.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(s<0&&!o&&(s+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,u=this._timeline;if(s>r&&!o&&(s=r),this._startTime=(this._paused?this._pauseTime:u._time)-(this._reversed?r-s:s)/this._timeScale,u._dirty||this._uncache(!1),u._timeline)for(;u._timeline;)u._timeline._time!==(u._startTime+u._totalTime)/u._timeScale&&u.totalTime(u._totalTime,!0),u=u._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==s||this._duration===0)&&(y.length&&ae(),this.render(s,a,!1),y.length&&ae())}return this},v.progress=v.totalProgress=function(s,a){var o=this.duration();return arguments.length?this.totalTime(o*s,a):o?this._time/o:this.ratio},v.startTime=function(s){return arguments.length?(s!==this._startTime&&(this._startTime=s,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,s-this._delay)),this):this._startTime},v.endTime=function(s){return this._startTime+(s!=!1?this.totalDuration():this.duration())/this._timeScale},v.timeScale=function(s){if(!arguments.length)return this._timeScale;var a,o;for(s=s||c,this._timeline&&this._timeline.smoothChildTiming&&(a=this._pauseTime,o=a||a===0?a:this._timeline.totalTime(),this._startTime=o-(o-this._startTime)*this._timeScale/s),this._timeScale=s,o=this.timeline;o&&o.timeline;)o._dirty=!0,o.totalDuration(),o=o.timeline;return this},v.reversed=function(s){return arguments.length?(s!=this._reversed&&(this._reversed=s,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},v.paused=function(s){if(!arguments.length)return this._paused;var a=this._timeline,o,r;return s!=this._paused&&a&&(!b&&!s&&f.wake(),o=a.rawTime(),r=o-this._pauseTime,!s&&a.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=s?o:null,this._paused=s,this._active=this.isActive(),!s&&r!==0&&this._initted&&this.duration()&&(o=a.smoothChildTiming?this._totalTime:(o-this._startTime)/this._timeScale,this.render(o,o===this._totalTime,!0))),this._gc&&!s&&this._enabled(!0,!1),this};var me=W("core.SimpleTimeline",function(s){re.call(this,0,s),this.autoRemoveChildren=this.smoothChildTiming=!0});v=me.prototype=new re,v.constructor=me,v.kill()._gc=!1,v._first=v._last=v._recent=null,v._sortChildren=!1,v.add=v.insert=function(s,a,o,r){var u,m;if(s._startTime=Number(a||0)+s._delay,s._paused&&this!==s._timeline&&(s._pauseTime=this.rawTime()-(s._timeline.rawTime()-s._pauseTime)),s.timeline&&s.timeline._remove(s,!0),s.timeline=s._timeline=this,s._gc&&s._enabled(!0,!0),u=this._last,this._sortChildren)for(m=s._startTime;u&&u._startTime>m;)u=u._prev;return u?(s._next=u._next,u._next=s):(s._next=this._first,this._first=s),s._next?s._next._prev=s:this._last=s,s._prev=u,this._recent=s,this._timeline&&this._uncache(!0),this},v._remove=function(s,a){return s.timeline===this&&(a||s._enabled(!1,!0),s._prev?s._prev._next=s._next:this._first===s&&(this._first=s._next),s._next?s._next._prev=s._prev:this._last===s&&(this._last=s._prev),s._next=s._prev=s.timeline=null,s===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},v.render=function(s,a,o){var r=this._first,u;for(this._totalTime=this._time=this._rawPrevTime=s;r;)u=r._next,(r._active||s>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(s-r._startTime)*r._timeScale,a,o):r.render((s-r._startTime)*r._timeScale,a,o)),r=u},v.rawTime=function(){return b||f.wake(),this._totalTime};var x=W("TweenLite",function(s,a,o){if(re.call(this,a,o),this.render=x.prototype.render,s==null)throw"Cannot tween a null target.";this.target=s=typeof s!="string"?s:x.selector(s)||s;var r=s.jquery||s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType),u=this.vars.overwrite,m,w,P;if(this._overwrite=u=u==null?ue[x.defaultOverwrite]:typeof u=="number"?u>>0:ue[u],(r||s instanceof Array||s.push&&C(s))&&typeof s[0]!="number")for(this._targets=P=g(s),this._propLookup=[],this._siblings=[],m=0;m<P.length;m++){if(w=P[m],w){if(typeof w=="string"){w=P[m--]=x.selector(w),typeof w=="string"&&P.splice(m+1,1);continue}else if(w.length&&w!==t&&w[0]&&(w[0]===t||w[0].nodeType&&w[0].style&&!w.nodeType)){P.splice(m--,1),this._targets=P=P.concat(g(w));continue}}else{P.splice(m--,1);continue}this._siblings[m]=fe(w,this,!1),u===1&&this._siblings[m].length>1&&Se(w,this,null,1,this._siblings[m])}else this._propLookup={},this._siblings=fe(s,this,!1),u===1&&this._siblings.length>1&&Se(s,this,null,1,this._siblings);(this.vars.immediateRender||a===0&&this._delay===0&&this.vars.immediateRender!==!1)&&(this._time=-c,this.render(Math.min(0,-this._delay)))},!0),ye=function(s){return s&&s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)},Te=function(s,a){var o={},r;for(r in s)!ie[r]&&(!(r in a)||r==="transform"||r==="x"||r==="y"||r==="width"||r==="height"||r==="className"||r==="border")&&(!N[r]||N[r]&&N[r]._autoCSS)&&(o[r]=s[r],delete s[r]);s.css=o};v=x.prototype=new re,v.constructor=x,v.kill()._gc=!1,v.ratio=0,v._firstPT=v._targets=v._overwrittenProps=v._startAt=null,v._notifyPluginsOfEnabled=v._lazy=!1,x.version="2.1.3",x.defaultEase=v._ease=new K(null,null,1,1),x.defaultOverwrite="auto",x.ticker=f,x.autoSleep=120,x.lagSmoothing=function(s,a){f.lagSmoothing(s,a)},x.selector=t.$||t.jQuery||function(s){var a=t.$||t.jQuery;return a?(x.selector=a,a(s)):(i||(i=t.document),i?i.querySelectorAll?i.querySelectorAll(s):i.getElementById(s.charAt(0)==="#"?s.substr(1):s):s)};var y=[],S={},A=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,_=/[\+-]=-?[\.\d]/,$=function(s){for(var a=this._firstPT,o=1e-6,r;a;)r=a.blob?s===1&&this.end!=null?this.end:s?this.join(""):this.start:a.c*s+a.s,a.m?r=a.m.call(this._tween,r,this._target||a.t,this._tween):r<o&&r>-o&&!a.blob&&(r=0),a.f?a.fp?a.t[a.p](a.fp,r):a.t[a.p](r):a.t[a.p]=r,a=a._next},R=function(s){return(s*1e3|0)/1e3+""},I=function(s,a,o,r){var u=[],m=0,w="",P=0,T,O,L,j,Z,V,oe;for(u.start=s,u.end=a,s=u[0]=s+"",a=u[1]=a+"",o&&(o(u),s=u[0],a=u[1]),u.length=0,T=s.match(A)||[],O=a.match(A)||[],r&&(r._next=null,r.blob=1,u._firstPT=u._applyPT=r),Z=O.length,j=0;j<Z;j++)oe=O[j],V=a.substr(m,a.indexOf(oe,m)-m),w+=V||!j?V:",",m+=V.length,P?P=(P+1)%5:V.substr(-5)==="rgba("&&(P=1),oe===T[j]||T.length<=j?w+=oe:(w&&(u.push(w),w=""),L=parseFloat(T[j]),u.push(L),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:L,c:(oe.charAt(1)==="="?parseInt(oe.charAt(0)+"1",10)*parseFloat(oe.substr(2)):parseFloat(oe)-L)||0,f:0,m:P&&P<4?Math.round:R}),m+=oe.length;return w+=a.substr(m),w&&u.push(w),u.setRatio=$,_.test(a)&&(u.end=null),u},D=function(s,a,o,r,u,m,w,P,T){typeof r=="function"&&(r=r(T||0,s));var O=typeof s[a],L=O!=="function"?"":a.indexOf("set")||typeof s["get"+a.substr(3)]!="function"?a:"get"+a.substr(3),j=o!=="get"?o:L?w?s[L](w):s[L]():s[a],Z=typeof r=="string"&&r.charAt(1)==="=",V={t:s,p:a,s:j,f:O==="function",pg:0,n:u||a,m:m?typeof m=="function"?m:Math.round:0,pr:0,c:Z?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-j||0},oe;if((typeof j!="number"||typeof r!="number"&&!Z)&&(w||isNaN(j)||!Z&&isNaN(r)||typeof j=="boolean"||typeof r=="boolean"?(V.fp=w,oe=I(j,Z?parseFloat(V.s)+V.c+(V.s+"").replace(/[0-9\-\.]/g,""):r,P||x.defaultStringFilter,V),V={t:oe,p:"setRatio",s:0,c:1,f:2,pg:0,n:u||a,pr:0,m:0}):(V.s=parseFloat(j),Z||(V.c=parseFloat(r)-V.s||0))),V.c)return(V._next=this._firstPT)&&(V._next._prev=V),this._firstPT=V,V},G=x._internals={isArray:C,isSelector:ye,lazyTweens:y,blobDif:I},N=x._plugins={},Q=G.tweenLookup={},de=0,ie=G.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},ue={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},se=re._rootFramesTimeline=new me,J=re._rootTimeline=new me,ge=30,ae=G.lazyRender=function(){var s=y.length,a,o;for(S={},a=0;a<s;a++)o=y[a],o&&o._lazy!==!1&&(o.render(o._lazy[0],o._lazy[1],!0),o._lazy=!1);y.length=0};J._startTime=f.time,se._startTime=f.frame,J._active=se._active=!0,setTimeout(ae,1),re._updateRoot=x.render=function(){var s,a,o;if(y.length&&ae(),J.render((f.time-J._startTime)*J._timeScale,!1,!1),se.render((f.frame-se._startTime)*se._timeScale,!1,!1),y.length&&ae(),f.frame>=ge){ge=f.frame+(parseInt(x.autoSleep,10)||120);for(o in Q){for(a=Q[o].tweens,s=a.length;--s>-1;)a[s]._gc&&a.splice(s,1);a.length===0&&delete Q[o]}if(o=J._first,(!o||o._paused)&&x.autoSleep&&!se._first&&f._listeners.tick.length===1){for(;o&&o._paused;)o=o._next;o||f.sleep()}}},f.addEventListener("tick",re._updateRoot);var fe=function(s,a,o){var r=s._gsTweenID,u,m;if(Q[r||(s._gsTweenID=r="t"+de++)]||(Q[r]={target:s,tweens:[]}),a&&(u=Q[r].tweens,u[m=u.length]=a,o))for(;--m>-1;)u[m]===a&&u.splice(m,1);return Q[r].tweens},be=function(s,a,o,r){var u=s.vars.onOverwrite,m,w;return u&&(m=u(s,a,o,r)),u=x.onOverwrite,u&&(w=u(s,a,o,r)),m!==!1&&w!==!1},Se=function(s,a,o,r,u){var m,w,P,T;if(r===1||r>=4){for(T=u.length,m=0;m<T;m++)if((P=u[m])!==a)P._gc||P._kill(null,s,a)&&(w=!0);else if(r===5)break;return w}var O=a._startTime+c,L=[],j=0,Z=a._duration===0,V;for(m=u.length;--m>-1;)(P=u[m])===a||P._gc||P._paused||(P._timeline!==a._timeline?(V=V||Ee(a,0,Z),Ee(P,V,Z)===0&&(L[j++]=P)):P._startTime<=O&&P._startTime+P.totalDuration()/P._timeScale>O&&((Z||!P._initted)&&O-P._startTime<=c*2||(L[j++]=P)));for(m=j;--m>-1;)if(P=L[m],T=P._firstPT,r===2&&P._kill(o,s,a)&&(w=!0),r!==2||!P._firstPT&&P._initted&&T){if(r!==2&&!be(P,a))continue;P._enabled(!1,!1)&&(w=!0)}return w},Ee=function(s,a,o){for(var r=s._timeline,u=r._timeScale,m=s._startTime;r._timeline;){if(m+=r._startTime,u*=r._timeScale,r._paused)return-100;r=r._timeline}return m/=u,m>a?m-a:o&&m===a||!s._initted&&m-a<2*c?c:(m+=s.totalDuration()/s._timeScale/u)>a+c?0:m-a-c};v._init=function(){var s=this.vars,a=this._overwrittenProps,o=this._duration,r=!!s.immediateRender,u=s.ease,m=this._startAt,w,P,T,O,L,j;if(s.startAt){m&&(m.render(-1,!0),m.kill()),L={};for(O in s.startAt)L[O]=s.startAt[O];if(L.data="isStart",L.overwrite=!1,L.immediateRender=!0,L.lazy=r&&s.lazy!==!1,L.startAt=L.delay=null,L.onUpdate=s.onUpdate,L.onUpdateParams=s.onUpdateParams,L.onUpdateScope=s.onUpdateScope||s.callbackScope||this,this._startAt=x.to(this.target||{},0,L),r){if(this._time>0)this._startAt=null;else if(o!==0)return}}else if(s.runBackwards&&o!==0)if(m)m.render(-1,!0),m.kill(),this._startAt=null;else{this._time!==0&&(r=!1),T={};for(O in s)(!ie[O]||O==="autoCSS")&&(T[O]=s[O]);if(T.overwrite=0,T.data="isFromStart",T.lazy=r&&s.lazy!==!1,T.immediateRender=r,this._startAt=x.to(this.target,0,T),!r)this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null);else if(this._time===0)return}if(this._ease=u=u?u instanceof K?u:typeof u=="function"?new K(u,s.easeParams):k[u]||x.defaultEase:x.defaultEase,s.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(j=this._targets.length,w=0;w<j;w++)this._initProps(this._targets[w],this._propLookup[w]={},this._siblings[w],a?a[w]:null,w)&&(P=!0);else P=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(P&&x._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||typeof this.target!="function"&&this._enabled(!1,!1)),s.runBackwards)for(T=this._firstPT;T;)T.s+=T.c,T.c=-T.c,T=T._next;this._onUpdate=s.onUpdate,this._initted=!0},v._initProps=function(s,a,o,r,u){var m,w,P,T,O,L;if(s==null)return!1;S[s._gsTweenID]&&ae(),this.vars.css||s.style&&s!==t&&s.nodeType&&N.css&&this.vars.autoCSS!==!1&&Te(this.vars,s);for(m in this.vars)if(L=this.vars[m],ie[m])L&&(L instanceof Array||L.push&&C(L))&&L.join("").indexOf("{self}")!==-1&&(this.vars[m]=L=this._swapSelfInParams(L,this));else if(N[m]&&(T=new N[m])._onInitTween(s,this.vars[m],this,u)){for(this._firstPT=O={_next:this._firstPT,t:T,p:"setRatio",s:0,c:1,f:1,n:m,pg:1,pr:T._priority,m:0},w=T._overwriteProps.length;--w>-1;)a[T._overwriteProps[w]]=this._firstPT;(T._priority||T._onInitAllProps)&&(P=!0),(T._onDisable||T._onEnable)&&(this._notifyPluginsOfEnabled=!0),O._next&&(O._next._prev=O)}else a[m]=D.call(this,s,m,"get",L,m,0,null,this.vars.stringFilter,u);return r&&this._kill(r,s)?this._initProps(s,a,o,r,u):this._overwrite>1&&this._firstPT&&o.length>1&&Se(s,this,a,this._overwrite,o)?(this._kill(a,s),this._initProps(s,a,o,r,u)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(S[s._gsTweenID]=!0),P)},v.render=function(s,a,o){var r=this,u=r._time,m=r._duration,w=r._rawPrevTime,P,T,O,L;if(s>=m-c&&s>=0)r._totalTime=r._time=m,r.ratio=r._ease._calcEnd?r._ease.getRatio(1):1,r._reversed||(P=!0,T="onComplete",o=o||r._timeline.autoRemoveChildren),m===0&&(r._initted||!r.vars.lazy||o)&&(r._startTime===r._timeline._duration&&(s=0),(w<0||s<=0&&s>=-c||w===c&&r.data!=="isPause")&&w!==s&&(o=!0,w>c&&(T="onReverseComplete")),r._rawPrevTime=L=!a||s||w===s?s:c);else if(s<c)r._totalTime=r._time=0,r.ratio=r._ease._calcEnd?r._ease.getRatio(0):0,(u!==0||m===0&&w>0)&&(T="onReverseComplete",P=r._reversed),s>-c?s=0:s<0&&(r._active=!1,m===0&&(r._initted||!r.vars.lazy||o)&&(w>=0&&!(w===c&&r.data==="isPause")&&(o=!0),r._rawPrevTime=L=!a||s||w===s?s:c)),(!r._initted||r._startAt&&r._startAt.progress())&&(o=!0);else if(r._totalTime=r._time=s,r._easeType){var j=s/m,Z=r._easeType,V=r._easePower;(Z===1||Z===3&&j>=.5)&&(j=1-j),Z===3&&(j*=2),V===1?j*=j:V===2?j*=j*j:V===3?j*=j*j*j:V===4&&(j*=j*j*j*j),r.ratio=Z===1?1-j:Z===2?j:s/m<.5?j/2:1-j/2}else r.ratio=r._ease.getRatio(s/m);if(!(r._time===u&&!o)){if(!r._initted){if(r._init(),!r._initted||r._gc)return;if(!o&&r._firstPT&&(r.vars.lazy!==!1&&r._duration||r.vars.lazy&&!r._duration)){r._time=r._totalTime=u,r._rawPrevTime=w,y.push(r),r._lazy=[s,a];return}r._time&&!P?r.ratio=r._ease.getRatio(r._time/m):P&&r._ease._calcEnd&&(r.ratio=r._ease.getRatio(r._time===0?0:1))}for(r._lazy!==!1&&(r._lazy=!1),r._active||!r._paused&&r._time!==u&&s>=0&&(r._active=!0),u===0&&(r._startAt&&(s>=0?r._startAt.render(s,!0,o):T||(T="_dummyGS")),r.vars.onStart&&(r._time!==0||m===0)&&(a||r._callback("onStart"))),O=r._firstPT;O;)O.f?O.t[O.p](O.c*r.ratio+O.s):O.t[O.p]=O.c*r.ratio+O.s,O=O._next;r._onUpdate&&(s<0&&r._startAt&&s!==-1e-4&&r._startAt.render(s,!0,o),a||(r._time!==u||P||o)&&r._callback("onUpdate")),T&&(!r._gc||o)&&(s<0&&r._startAt&&!r._onUpdate&&s!==-1e-4&&r._startAt.render(s,!0,o),P&&(r._timeline.autoRemoveChildren&&r._enabled(!1,!1),r._active=!1),!a&&r.vars[T]&&r._callback(T),m===0&&r._rawPrevTime===c&&L!==c&&(r._rawPrevTime=0))}},v._kill=function(s,a,o){if(s==="all"&&(s=null),s==null&&(a==null||a===this.target))return this._lazy=!1,this._enabled(!1,!1);a=typeof a!="string"?a||this._targets||this.target:x.selector(a)||a;var r=o&&this._time&&o._startTime===this._startTime&&this._timeline===o._timeline,u=this._firstPT,m,w,P,T,O,L,j,Z,V;if((C(a)||ye(a))&&typeof a[0]!="number")for(m=a.length;--m>-1;)this._kill(s,a[m],o)&&(L=!0);else{if(this._targets){for(m=this._targets.length;--m>-1;)if(a===this._targets[m]){O=this._propLookup[m]||{},this._overwrittenProps=this._overwrittenProps||[],w=this._overwrittenProps[m]=s?this._overwrittenProps[m]||{}:"all";break}}else{if(a!==this.target)return!1;O=this._propLookup,w=this._overwrittenProps=s?this._overwrittenProps||{}:"all"}if(O){if(j=s||O,Z=s!==w&&w!=="all"&&s!==O&&(typeof s!="object"||!s._tempKill),o&&(x.onOverwrite||this.vars.onOverwrite)){for(P in j)O[P]&&(V||(V=[]),V.push(P));if((V||!s)&&!be(this,o,a,V))return!1}for(P in j)(T=O[P])&&(r&&(T.f?T.t[T.p](T.s):T.t[T.p]=T.s,L=!0),T.pg&&T.t._kill(j)&&(L=!0),(!T.pg||T.t._overwriteProps.length===0)&&(T._prev?T._prev._next=T._next:T===this._firstPT&&(this._firstPT=T._next),T._next&&(T._next._prev=T._prev),T._next=T._prev=null),delete O[P]),Z&&(w[P]=1);!this._firstPT&&this._initted&&u&&this._enabled(!1,!1)}}return L},v.invalidate=function(){this._notifyPluginsOfEnabled&&x._onPluginEvent("_onDisable",this);var s=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],re.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-c,this.render(s,!1,this.vars.lazy!==!1)),this},v._enabled=function(s,a){if(b||f.wake(),s&&this._gc){var o=this._targets,r;if(o)for(r=o.length;--r>-1;)this._siblings[r]=fe(o[r],this,!0);else this._siblings=fe(this.target,this,!0)}return re.prototype._enabled.call(this,s,a),this._notifyPluginsOfEnabled&&this._firstPT?x._onPluginEvent(s?"_onEnable":"_onDisable",this):!1},x.to=function(s,a,o){return new x(s,a,o)},x.from=function(s,a,o){return o.runBackwards=!0,o.immediateRender=o.immediateRender!=!1,new x(s,a,o)},x.fromTo=function(s,a,o,r){return r.startAt=o,r.immediateRender=r.immediateRender!=!1&&o.immediateRender!=!1,new x(s,a,r)},x.delayedCall=function(s,a,o,r,u){return new x(a,0,{delay:s,onComplete:a,onCompleteParams:o,callbackScope:r,onReverseComplete:a,onReverseCompleteParams:o,immediateRender:!1,lazy:!1,useFrames:u,overwrite:0})},x.set=function(s,a){return new x(s,0,a)},x.getTweensOf=function(s,a){if(s==null)return[];s=typeof s!="string"?s:x.selector(s)||s;var o,r,u,m;if((C(s)||ye(s))&&typeof s[0]!="number"){for(o=s.length,r=[];--o>-1;)r=r.concat(x.getTweensOf(s[o],a));for(o=r.length;--o>-1;)for(m=r[o],u=o;--u>-1;)m===r[u]&&r.splice(o,1)}else if(s._gsTweenID)for(r=fe(s).concat(),o=r.length;--o>-1;)(r[o]._gc||a&&!r[o].isActive())&&r.splice(o,1);return r||[]},x.killTweensOf=x.killDelayedCallsTo=function(s,a,o){typeof a=="object"&&(o=a,a=!1);for(var r=x.getTweensOf(s,a),u=r.length;--u>-1;)r[u]._kill(o,s)};var ce=W("plugins.TweenPlugin",function(s,a){this._overwriteProps=(s||"").split(","),this._propName=this._overwriteProps[0],this._priority=a||0,this._super=ce.prototype},!0);if(v=ce.prototype,ce.version="1.19.0",ce.API=2,v._firstPT=null,v._addTween=D,v.setRatio=$,v._kill=function(s){var a=this._overwriteProps,o=this._firstPT,r;if(s[this._propName]!=null)this._overwriteProps=[];else for(r=a.length;--r>-1;)s[a[r]]!=null&&a.splice(r,1);for(;o;)s[o.n]!=null&&(o._next&&(o._next._prev=o._prev),o._prev?(o._prev._next=o._next,o._prev=null):this._firstPT===o&&(this._firstPT=o._next)),o=o._next;return!1},v._mod=v._roundProps=function(s){for(var a=this._firstPT,o;a;)o=s[this._propName]||a.n!=null&&s[a.n.split(this._propName+"_").join("")],o&&typeof o=="function"&&(a.f===2?a.t._applyPT.m=o:a.m=o),a=a._next},x._onPluginEvent=function(s,a){var o=a._firstPT,r,u,m,w,P;if(s==="_onInitAllProps"){for(;o;){for(P=o._next,u=m;u&&u.pr>o.pr;)u=u._next;(o._prev=u?u._prev:w)?o._prev._next=o:m=o,(o._next=u)?u._prev=o:w=o,o=P}o=a._firstPT=m}for(;o;)o.pg&&typeof o.t[s]=="function"&&o.t[s]()&&(r=!0),o=o._next;return r},ce.activate=function(s){for(var a=s.length;--a>-1;)s[a].API===ce.API&&(N[new s[a]()._propName]=s[a]);return!0},F.plugin=function(s){if(!s||!s.propName||!s.init||!s.API)throw"illegal plugin definition.";var a=s.propName,o=s.priority||0,r=s.overwriteProps,u={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},m=W("plugins."+a.charAt(0).toUpperCase()+a.substr(1)+"Plugin",function(){ce.call(this,a,o),this._overwriteProps=r||[]},s.global===!0),w=m.prototype=new ce(a),P;w.constructor=m,m.API=s.API;for(P in u)typeof s[P]=="function"&&(w[u[P]]=s[P]);return m.version=s.version,ce.activate([m]),m},z=t._gsQueue,z){for(Y=0;Y<z.length;Y++)z[Y]();for(v in p)p[v].func||t.console.log("GSAP encountered missing dependency: "+v)}return b=!1,x}(ht),xe=ht.GreenSockGlobals,dt=xe.com.greensock,Ht=dt.core.SimpleTimeline,ke=dt.core.Animation,He=xe.Ease;xe.Linear,xe.Power1,xe.Power2,xe.Power3,xe.Power4,xe.TweenPlugin,dt.events.EventDispatcher;/*!
 * VERSION: 2.1.3
 * DATE: 2019-05-17
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2019, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/ht._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(){var t=function(f){var b=[],p=f.length,d;for(d=0;d!==p;b.push(f[d++]));return b},e=function(f,b,p){var d=f.cycle,F,W;for(F in d)W=d[F],f[F]=typeof W=="function"?W(p,b[p],b):W[p%W.length];delete f.cycle},i=function(f){if(typeof f=="function")return f;var b=typeof f=="object"?f:{each:f},p=b.ease,d=b.from||0,F=b.base||0,W={},B=isNaN(d),K=b.axis,k={center:.5,end:1}[d]||0;return function(H,te,X){var U=(X||b).length,q=W[U],M,re,le,me,x,ye,Te,y,S;if(!q){if(S=b.grid==="auto"?0:(b.grid||[1/0])[0],!S){for(Te=-1/0;Te<(Te=X[S++].getBoundingClientRect().left)&&S<U;);S--}for(q=W[U]=[],M=B?Math.min(S,U)*k-.5:d%S,re=B?U*k/S-.5:d/S|0,Te=0,y=1/0,ye=0;ye<U;ye++)le=ye%S-M,me=re-(ye/S|0),q[ye]=x=K?Math.abs(K==="y"?me:le):Math.sqrt(le*le+me*me),x>Te&&(Te=x),x<y&&(y=x);q.max=Te-y,q.min=y,q.v=U=b.amount||b.each*(S>U?U-1:K?K==="y"?U/S:S:Math.max(S,U/S))||0,q.b=U<0?F-U:F}return U=(q[H]-q.min)/q.max,q.b+(p?p.getRatio(U):U)*q.v}},n=function(f,b,p){pe.call(this,f,b,p),this._cycle=0,this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=n.prototype.render},l=1e-8,h=pe._internals,c=h.isSelector,g=h.isArray,E=n.prototype=pe.to({},.1,{}),C=[];n.version="2.1.3",E.constructor=n,E.kill()._gc=!1,n.killTweensOf=n.killDelayedCallsTo=pe.killTweensOf,n.getTweensOf=pe.getTweensOf,n.lagSmoothing=pe.lagSmoothing,n.ticker=pe.ticker,n.render=pe.render,n.distribute=i,E.invalidate=function(){return this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),pe.prototype.invalidate.call(this)},E.updateTo=function(f,b){var p=this,d=p.ratio,F=p.vars.immediateRender||f.immediateRender,W;b&&p._startTime<p._timeline._time&&(p._startTime=p._timeline._time,p._uncache(!1),p._gc?p._enabled(!0,!1):p._timeline.insert(p,p._startTime-p._delay));for(W in f)p.vars[W]=f[W];if(p._initted||F){if(b)p._initted=!1,F&&p.render(0,!0,!0);else if(p._gc&&p._enabled(!0,!1),p._notifyPluginsOfEnabled&&p._firstPT&&pe._onPluginEvent("_onDisable",p),p._time/p._duration>.998){var B=p._totalTime;p.render(0,!0,!1),p._initted=!1,p.render(B,!0,!1)}else if(p._initted=!1,p._init(),p._time>0||F)for(var K=1/(1-d),k=p._firstPT,H;k;)H=k.s+k.c,k.c*=K,k.s=H-k.c,k=k._next}return p},E.render=function(f,b,p){this._initted||this._duration===0&&this.vars.repeat&&this.invalidate();var d=this,F=d._dirty?d.totalDuration():d._totalDuration,W=d._time,B=d._totalTime,K=d._cycle,k=d._duration,H=d._rawPrevTime,te,X,U,q,M,re,le,me,x;if(f>=F-l&&f>=0?(d._totalTime=F,d._cycle=d._repeat,d._yoyo&&(d._cycle&1)!==0?(d._time=0,d.ratio=d._ease._calcEnd?d._ease.getRatio(0):0):(d._time=k,d.ratio=d._ease._calcEnd?d._ease.getRatio(1):1),d._reversed||(te=!0,X="onComplete",p=p||d._timeline.autoRemoveChildren),k===0&&(d._initted||!d.vars.lazy||p)&&(d._startTime===d._timeline._duration&&(f=0),(H<0||f<=0&&f>=-l||H===l&&d.data!=="isPause")&&H!==f&&(p=!0,H>l&&(X="onReverseComplete")),d._rawPrevTime=me=!b||f||H===f?f:l)):f<l?(d._totalTime=d._time=d._cycle=0,d.ratio=d._ease._calcEnd?d._ease.getRatio(0):0,(B!==0||k===0&&H>0)&&(X="onReverseComplete",te=d._reversed),f>-l?f=0:f<0&&(d._active=!1,k===0&&(d._initted||!d.vars.lazy||p)&&(H>=0&&(p=!0),d._rawPrevTime=me=!b||f||H===f?f:l)),d._initted||(p=!0)):(d._totalTime=d._time=f,d._repeat!==0&&(q=k+d._repeatDelay,d._cycle=d._totalTime/q>>0,d._cycle!==0&&d._cycle===d._totalTime/q&&B<=f&&d._cycle--,d._time=d._totalTime-d._cycle*q,d._yoyo&&(d._cycle&1)!==0&&(d._time=k-d._time,x=d._yoyoEase||d.vars.yoyoEase,x&&(d._yoyoEase||(x===!0&&!d._initted?(x=d.vars.ease,d._yoyoEase=x=x?x instanceof He?x:typeof x=="function"?new He(x,d.vars.easeParams):He.map[x]||pe.defaultEase:pe.defaultEase):d._yoyoEase=x=x===!0?d._ease:x instanceof He?x:He.map[x]),d.ratio=x?1-x.getRatio((k-d._time)/k):0)),d._time>k?d._time=k:d._time<0&&(d._time=0)),d._easeType&&!x?(M=d._time/k,re=d._easeType,le=d._easePower,(re===1||re===3&&M>=.5)&&(M=1-M),re===3&&(M*=2),le===1?M*=M:le===2?M*=M*M:le===3?M*=M*M*M:le===4&&(M*=M*M*M*M),d.ratio=re===1?1-M:re===2?M:d._time/k<.5?M/2:1-M/2):x||(d.ratio=d._ease.getRatio(d._time/k))),W===d._time&&!p&&K===d._cycle){B!==d._totalTime&&d._onUpdate&&(b||d._callback("onUpdate"));return}else if(!d._initted){if(d._init(),!d._initted||d._gc)return;if(!p&&d._firstPT&&(d.vars.lazy!==!1&&d._duration||d.vars.lazy&&!d._duration)){d._time=W,d._totalTime=B,d._rawPrevTime=H,d._cycle=K,h.lazyTweens.push(d),d._lazy=[f,b];return}d._time&&!te&&!x?d.ratio=d._ease.getRatio(d._time/k):te&&this._ease._calcEnd&&!x&&(d.ratio=d._ease.getRatio(d._time===0?0:1))}for(d._lazy!==!1&&(d._lazy=!1),d._active||!d._paused&&d._time!==W&&f>=0&&(d._active=!0),B===0&&(d._initted===2&&f>0&&d._init(),d._startAt&&(f>=0?d._startAt.render(f,!0,p):X||(X="_dummyGS")),d.vars.onStart&&(d._totalTime!==0||k===0)&&(b||d._callback("onStart"))),U=d._firstPT;U;)U.f?U.t[U.p](U.c*d.ratio+U.s):U.t[U.p]=U.c*d.ratio+U.s,U=U._next;d._onUpdate&&(f<0&&d._startAt&&d._startTime&&d._startAt.render(f,!0,p),b||(d._totalTime!==B||X)&&d._callback("onUpdate")),d._cycle!==K&&(b||d._gc||d.vars.onRepeat&&d._callback("onRepeat")),X&&(!d._gc||p)&&(f<0&&d._startAt&&!d._onUpdate&&d._startTime&&d._startAt.render(f,!0,p),te&&(d._timeline.autoRemoveChildren&&d._enabled(!1,!1),d._active=!1),!b&&d.vars[X]&&d._callback(X),k===0&&d._rawPrevTime===l&&me!==l&&(d._rawPrevTime=0))},n.to=function(f,b,p){return new n(f,b,p)},n.from=function(f,b,p){return p.runBackwards=!0,p.immediateRender=p.immediateRender!=!1,new n(f,b,p)},n.fromTo=function(f,b,p,d){return d.startAt=p,d.immediateRender=d.immediateRender!=!1&&p.immediateRender!=!1,new n(f,b,d)},n.staggerTo=n.allTo=function(f,b,p,d,F,W,B){var K=[],k=i(p.stagger||d),H=p.cycle,te=(p.startAt||C).cycle,X,U,q,M;for(g(f)||(typeof f=="string"&&(f=pe.selector(f)||f),c(f)&&(f=t(f))),f=f||[],X=f.length-1,q=0;q<=X;q++){U={};for(M in p)U[M]=p[M];if(H&&(e(U,f,q),U.duration!=null&&(b=U.duration,delete U.duration)),te){te=U.startAt={};for(M in p.startAt)te[M]=p.startAt[M];e(U.startAt,f,q)}U.delay=k(q,f[q],f)+(U.delay||0),q===X&&F&&(U.onComplete=function(){p.onComplete&&p.onComplete.apply(p.onCompleteScope||this,arguments),F.apply(B||p.callbackScope||this,W||C)}),K[q]=new n(f[q],b,U)}return K},n.staggerFrom=n.allFrom=function(f,b,p,d,F,W,B){return p.runBackwards=!0,p.immediateRender=p.immediateRender!=!1,n.staggerTo(f,b,p,d,F,W,B)},n.staggerFromTo=n.allFromTo=function(f,b,p,d,F,W,B,K){return d.startAt=p,d.immediateRender=d.immediateRender!=!1&&p.immediateRender!=!1,n.staggerTo(f,b,d,F,W,B,K)},n.delayedCall=function(f,b,p,d,F){return new n(b,0,{delay:f,onComplete:b,onCompleteParams:p,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:p,immediateRender:!1,useFrames:F,overwrite:0})},n.set=function(f,b){return new n(f,0,b)},n.isTweening=function(f){return pe.getTweensOf(f,!0).length>0};var z=function(f,b){for(var p=[],d=0,F=f._first;F;)F instanceof pe?p[d++]=F:(b&&(p[d++]=F),p=p.concat(z(F,b)),d=p.length),F=F._next;return p},Y=n.getAllTweens=function(f){return z(ke._rootTimeline,f).concat(z(ke._rootFramesTimeline,f))};n.killAll=function(f,b,p,d){b==null&&(b=!0),p==null&&(p=!0);var F=Y(d!=!1),W=F.length,B=b&&p&&d,K,k,H;for(H=0;H<W;H++)k=F[H],(B||k instanceof Ht||(K=k.target===k.vars.onComplete)&&p||b&&!K)&&(f?k.totalTime(k._reversed?0:k.totalDuration()):k._enabled(!1,!1))},n.killChildTweensOf=function(f,b){if(f!=null){var p=h.tweenLookup,d,F,W,B,K;if(typeof f=="string"&&(f=pe.selector(f)||f),c(f)&&(f=t(f)),g(f)){for(B=f.length;--B>-1;)n.killChildTweensOf(f[B],b);return}d=[];for(W in p)for(F=p[W].target.parentNode;F;)F===f&&(d=d.concat(p[W].tweens)),F=F.parentNode;for(K=d.length,B=0;B<K;B++)b&&d[B].totalTime(d[B].totalDuration()),d[B]._enabled(!1,!1)}};var v=function(f,b,p,d){b=b!==!1,p=p!==!1,d=d!==!1;for(var F=Y(d),W=b&&p&&d,B=F.length,K,k;--B>-1;)k=F[B],(W||k instanceof Ht||(K=k.target===k.vars.onComplete)&&p||b&&!K)&&k.paused(f)};return n.pauseAll=function(f,b,p){v(!0,f,b,p)},n.resumeAll=function(f,b,p){v(!1,f,b,p)},n.globalTimeScale=function(f){var b=ke._rootTimeline,p=pe.ticker.time;return arguments.length?(f=f||l,b._startTime=p-(p-b._startTime)*b._timeScale/f,b=ke._rootFramesTimeline,p=pe.ticker.frame,b._startTime=p-(p-b._startTime)*b._timeScale/f,b._timeScale=ke._rootTimeline._timeScale=f,f):b._timeScale},E.progress=function(f,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&(this._cycle&1)!==0?1-f:f)+this._cycle*(this._duration+this._repeatDelay),b):this.duration()?this._time/this._duration:this.ratio},E.totalProgress=function(f,b){return arguments.length?this.totalTime(this.totalDuration()*f,b):this._totalTime/this.totalDuration()},E.time=function(f,b){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var p=this._duration,d=this._cycle,F=d*(p+this._repeatDelay);return f>p&&(f=p),this.totalTime(this._yoyo&&d&1?p-f+F:this._repeat?f+F:f,b)},E.duration=function(f){return arguments.length?ke.prototype.duration.call(this,f):this._duration},E.totalDuration=function(f){return arguments.length?this._repeat===-1?this:this.duration((f-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},E.repeat=function(f){return arguments.length?(this._repeat=f,this._uncache(!0)):this._repeat},E.repeatDelay=function(f){return arguments.length?(this._repeatDelay=f,this._uncache(!0)):this._repeatDelay},E.yoyo=function(f){return arguments.length?(this._yoyo=f,this):this._yoyo},n},!0);var Da=xe.TweenMax,Ca={models:"weboji",enabled:!1,tags:["browser"],$pointer:null,pointer:{x:-20,y:-20},tween:{x:0,y:0,positionList:[]},config:{offset:{x:0,y:0,pitch:10,yaw:0,roll:0},speed:{x:1,y:1}},onEnable(){var t;if(!this.$pointer){const e=document.createElement("div");e.classList.add("handsfree-pointer","handsfree-pointer-face","handsfree-hide-when-started-without-weboji"),document.body.appendChild(e),this.$pointer=e}(t=this.$pointer)===null||t===void 0||t.classList.remove("handsfree-hidden")},onFrame({weboji:t}){let e=t.translation[0]*window.outerWidth,i=window.outerHeight-t.translation[1]*window.outerHeight,n=(1-t.translation[2])*window.outerWidth*2.5;e+=n*Math.tan(t.rotation[1]+this.config.offset.yaw*Math.PI/180)*this.config.speed.x,i+=n*Math.tan(t.rotation[0]+this.config.offset.pitch*Math.PI/180)*this.config.speed.y-window.outerHeight,e+=this.config.offset.x,i+=this.config.offset.y,this.handsfree.TweenMax.to(this.tween,1,{x:e,y:i,overwrite:!0,ease:"linear.easeNone",immediateRender:!0}),this.$pointer.style.left=`${this.tween.x}px`,this.$pointer.style.top=`${this.tween.y}px`,t.pointer={x:this.tween.x,y:this.tween.y}},onDisable(){var t;(t=this.$pointer)===null||t===void 0||t.classList.add("handsfree-hidden")}},$a={models:"weboji",enabled:!1,tags:["browser"],config:{throttle:50,maxMouseDownedFrames:1,morphs:{0:.25,1:.25}},mouseDowned:0,mouseUp:!1,thresholdMet:!1,lastHeld:{x:0,y:0},$origTarget:null,onFrame({weboji:t}){this.thresholdMet=!1;let e="";Object.keys(this.config.morphs).forEach(n=>{const l=+this.config.morphs[n];l>0&&t.morphs[n]>=l&&(this.thresholdMet=!0)}),this.thresholdMet?(this.mouseDowned++,document.body.classList.add("handsfree-clicked")):(this.mouseUp=this.mouseDowned,this.mouseDowned=0,document.body.classList.remove("handsfree-clicked")),this.mouseDowned>0&&this.mouseDowned<=this.config.maxMouseDownedFrames?e=t.pointer.state="mousedown":this.mouseDowned>this.config.maxMouseDownedFrames?e=t.pointer.state="mousedrag":this.mouseUp?e=t.pointer.state="mouseup":e="mousemove";const i=document.elementFromPoint(t.pointer.x,t.pointer.y);if(i&&e==="mousedown"&&(this.$origTarget=i),i){const n={view:window,button:0,bubbles:!0,cancelable:!0,clientX:t.pointer.x,clientY:t.pointer.y,movementX:t.pointer.x-this.lastHeld.x,movementY:t.pointer.y-this.lastHeld.y};i.dispatchEvent(new MouseEvent(e,n)),t.pointer.state==="mousedown"&&["INPUT","TEXTAREA","BUTTON","A"].includes(i.nodeName)&&i.focus(),t.pointer.state==="mouseup"&&i===this.$origTarget&&i.dispatchEvent(new MouseEvent("click",n)),t.pointer.$target=i}this.lastHeld=t.pointer}},Ra={models:"weboji",enabled:!1,tags:["browser"],numFramesFocused:0,$lastTarget:null,$target:null,config:{framesToFocus:10,vertScroll:{scrollSpeed:.05,scrollZone:100}},onUse(){this.$target=window},onFrame({weboji:t}){if(!t.pointer.x&&!t.pointer.y)return;this.checkForFocus(t);let e=!1,i,n=this.getTargetScrollTop();this.$target.getBoundingClientRect?i=this.$target.getBoundingClientRect():i={top:0,bottom:window.innerHeight},t.pointer.state==="mouseDown"&&(this.numFramesFocused=0,this.maybeSetTarget(t)),t.pointer.y<i.top+this.config.vertScroll.scrollZone&&(this.$target.scrollTo(0,n+(t.pointer.y-i.top-this.config.vertScroll.scrollZone)*this.config.vertScroll.scrollSpeed),e=!0),t.pointer.y>i.bottom-this.config.vertScroll.scrollZone&&(this.$target.scrollTo(0,n-(i.bottom-t.pointer.y-this.config.vertScroll.scrollZone)*this.config.vertScroll.scrollSpeed),e=!0),e&&this.maybeSelectNewTarget()},maybeSelectNewTarget(){let t=this.getTargetScrollTop(),e=!1;if(this.$target.scrollTo(0,t+this.config.vertScroll.scrollSpeed),t===this.getTargetScrollTop())e=!0;else{this.$target.scrollTo(0,t-this.config.vertScroll.scrollSpeed);return}if(this.$target.scrollTo(0,t-this.config.vertScroll.scrollSpeed),t===this.getTargetScrollTop())e&&(this.numFramesFocused=0,this.selectTarget(this.recursivelyFindScrollbar(this.$target.parentElement)));else{this.$target.scrollTo(0,t+this.config.vertScroll.scrollSpeed);return}},getTargetScrollTop(){var t,e;return((t=this.$target)===null||t===void 0?void 0:t.scrollY)||((e=this.$target)===null||e===void 0?void 0:e.scrollTop)||0},checkForFocus:It(function(t){let e=document.elementFromPoint(t.pointer.x,t.pointer.y);!e||(e=this.recursivelyFindScrollbar(e),e===this.$lastTarget?++this.numFramesFocused:this.numFramesFocused=0,this.numFramesFocused>this.config.framesToFocus&&this.selectTarget(e),this.$lastTarget=e)},100),selectTarget(t){this.$target.classList&&this.$target.classList.remove("handsfree-scroll-focus"),t&&t.classList&&t.classList.add("handsfree-scroll-focus"),(t.nodeName==="HTML"||!t.nodeName)&&(t=window),this.$target=t},maybeSetTarget(t){t.pointer.state==="mouseDown"&&t.pointer.$target&&this.selectTarget(this.recursivelyFindScrollbar(t.pointer.$target))},recursivelyFindScrollbar(t){const e=t&&t.getBoundingClientRect?getComputedStyle(t):{};return t&&t.scrollHeight>t.clientHeight&&(e.overflow==="auto"||e.overflow==="auto scroll"||e.overflowY==="auto"||e.overflowY==="auto scroll")?t:t&&t.parentElement?this.recursivelyFindScrollbar(t.parentElement):window}},Oa={models:"hands",tags:["browser"],enabled:!1,numFramesFocused:[0,0,0,0],$target:[null,null,null,null],origScrollLeft:[0,0,0,0],origScrollTop:[0,0,0,0],tweenScroll:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],config:{framesToFocus:10,threshold:50,numThresholdErrorFrames:5,speed:1},onFrame({hands:t}){setTimeout(()=>{if(!t.pointer)return;const e=this.handsfree.debug.$canvas.hands.height,i=this.handsfree.debug.$canvas.hands.width;t.pointer.forEach((n,l)=>{var h,c;if(!(!n.isVisible||l>t.origPinch.length)){if(((h=t.pinchState[l])===null||h===void 0?void 0:h[0])==="start"){let g=document.elementFromPoint(n.x,n.y);this.$target[l]=this.getTarget(g),this.tweenScroll[l].x=this.origScrollLeft[l]=this.getTargetScrollLeft(this.$target[l]),this.tweenScroll[l].y=this.origScrollTop[l]=this.getTargetScrollTop(this.$target[l]),this.handsfree.TweenMax.killTweensOf(this.tweenScroll[l])}((c=t.pinchState[l])===null||c===void 0?void 0:c[0])==="held"&&this.$target[l]&&(this.handsfree.TweenMax.to(this.tweenScroll[l],1,{x:this.tweenScroll[l].x-(t.origPinch[l][0].x-t.curPinch[l][0].x)*i*this.config.speed,y:this.tweenScroll[l].y+(t.origPinch[l][0].y-t.curPinch[l][0].y)*e*this.config.speed,overwrite:!0,ease:"linear.easeNone",immediateRender:!0}),this.$target[l].scrollTo(this.tweenScroll[l].x,this.tweenScroll[l].y))}})})},getTarget(t){const e=t&&t.getBoundingClientRect?getComputedStyle(t):{};return t&&t.scrollHeight>t.clientHeight&&(e.overflow==="auto"||e.overflow==="auto scroll"||e.overflowY==="auto"||e.overflowY==="auto scroll")?t:t&&t.parentElement?this.getTarget(t.parentElement):window},getTargetScrollLeft(t){return t.scrollX||t.scrollLeft||0},getTargetScrollTop(t){return t.scrollY||t.scrollTop||0}},Aa={models:"hands",enabled:!0,tags:["core"],fingertipIndex:[8,12,16,20],numFramesFocused:[[0,0,0,0],[0,0,0,0]],thresholdMet:[[0,0,0,0],[0,0,0,0]],framesSinceLastGrab:[[0,0,0,0],[0,0,0,0]],origPinch:[[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}]],curPinch:[[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}]],pinchDowned:[[0,0,0,0],[0,0,0,0]],pinchDown:[[!1,!1,!1,!1],[!1,!1,!1,!1]],pinchUp:[[!1,!1,!1,!1],[!1,!1,!1,!1]],tween:[[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}]],numFramesFocused:[[0,0,0,0],[0,0,0,0]],mouseDowned:0,mouseUp:!1,mouseThresholdMet:!1,config:{framesToFocus:10,threshold:50,numThresholdErrorFrames:5,maxMouseDownedFrames:1},onUse(){this.$target=window},onFrame({hands:t}){if(!t.multiHandLandmarks)return;const e=this.handsfree.debug.$canvas.hands.height,i=t.multiHandedness.some(l=>l.label==="Right"),n=t.multiHandedness.some(l=>l.label==="Left");for(let l=0;l<t.multiHandLandmarks.length;l++){let h=t.multiHandedness[l].label==="Right"?0:1;for(let c=0;c<4;c++){const g=t.multiHandLandmarks[l][4].x-t.multiHandLandmarks[l][this.fingertipIndex[c]].x,E=t.multiHandLandmarks[l][4].y-t.multiHandLandmarks[l][this.fingertipIndex[c]].y,C=Math.sqrt(g*g+E*E)*e;(this.thresholdMet[h][c]=C<this.config.threshold)&&(this.curPinch[h][c]=t.multiHandLandmarks[l][4],this.framesSinceLastGrab[h][c]>this.config.numThresholdErrorFrames&&(this.origPinch[h][c]=t.multiHandLandmarks[l][4],this.handsfree.TweenMax.killTweensOf(this.tween[h][c])),this.framesSinceLastGrab[h][c]=0),++this.framesSinceLastGrab[h][c]}}t.origPinch=this.origPinch,t.curPinch=this.curPinch,this.handsfree.data.hands=this.getPinchStates(t,i,n)},getPinchStates(t,e,i){const n=[e,i];t.pinchState=[["","","",""],["","","",""]];for(let l=0;l<2;l++)for(let h=0;h<4;h++)n[l]&&this.thresholdMet[l][h]?(this.pinchDowned[l][h]++,document.body.classList.add(`handsfree-finger-pinched-${l}-${h}`,`handsfree-finger-pinched-${h}`)):(this.pinchUp[l][h]=this.pinchDowned[l][h],this.pinchDowned[l][h]=0,document.body.classList.remove(`handsfree-finger-pinched-${l}-${h}`,`handsfree-finger-pinched-${h}`)),this.pinchDowned[l][h]>0&&this.pinchDowned[l][h]<=this.config.maxMouseDownedFrames?t.pinchState[l][h]="start":this.pinchDowned[l][h]>this.config.maxMouseDownedFrames?t.pinchState[l][h]="held":this.pinchUp[l][h]?t.pinchState[l][h]="released":t.pinchState[l][h]="",t.pinchState[l][h]&&(this.handsfree.emit(`finger-pinched-${l}-${h}`,{event:t.pinchState[l][h],origPinch:t.origPinch[l][h],curPinch:t.curPinch[l][h]}),this.handsfree.emit(`finger-pinched-${t.pinchState[l][h]}-${l}-${h}`,{event:t.pinchState[l][h],origPinch:t.origPinch[l][h],curPinch:t.curPinch[l][h]}),this.handsfree.emit(`finger-pinched-${h}`,{event:t.pinchState[l][h],origPinch:t.origPinch[l][h],curPinch:t.curPinch[l][h]}),this.handsfree.emit(`finger-pinched-${t.pinchState[l][h]}-${h}`,{event:t.pinchState[l][h],origPinch:t.origPinch[l][h],curPinch:t.curPinch[l][h]}));return t}};const La={start:"mousedown",held:"mousemove",released:"mouseup"};let ft=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}];var Ma={models:"hands",tags:["browser"],enabled:!1,$pointer:[],arePointersVisible:!0,pointer:[{x:-20,y:-20,isVisible:!1},{x:-20,y:-20,isVisible:!1},{x:-20,y:-20,isVisible:!1},{x:-20,y:-20,isVisible:!1}],tween:[{x:-20,y:-20},{x:-20,y:-20},{x:-20,y:-20},{x:-20,y:-20}],config:{offset:{x:0,y:0},speed:{x:1,y:1}},onUse(){for(let t=0;t<4;t++){const e=document.createElement("div");e.classList.add("handsfree-pointer","handsfree-pointer-palm","handsfree-hide-when-started-without-hands"),document.body.appendChild(e),this.$pointer[t]=e}this.enabled&&this.arePointersVisible?this.showPointers():this.hidePointers()},onEnable(){const t=this.arePointersVisible;this.showPointers(),this.arePointersVisible=t},onDisable(){const t=this.arePointersVisible;this.hidePointers(),this.arePointersVisible=t},onFrame({hands:t}){if(!(t!=null&&t.multiHandLandmarks)){this.$pointer.forEach(e=>e.style.display="none");return}t.pointer=[{isVisible:!1},{isVisible:!1},{isVisible:!1},{isVisible:!1}],t.multiHandLandmarks.forEach((e,i)=>{var n,l;const h=t.pointer[i];let c;i<2?c=t.multiHandedness[i].label==="Right"?0:1:c=t.multiHandedness[i].label==="Right"?2:3,this.handsfree.TweenMax.to(this.tween[c],1,{x:window.outerWidth*this.config.speed.x-window.outerWidth*this.config.speed.x/2+window.outerWidth/2-t.multiHandLandmarks[i][21].x*this.config.speed.x*window.outerWidth+this.config.offset.x,y:t.multiHandLandmarks[i][21].y*window.outerHeight*this.config.speed.y-window.outerHeight*this.config.speed.y/2+window.outerHeight/2+this.config.offset.y,overwrite:!0,ease:"linear.easeNone",immediate:!0}),t.pointer[c]={x:this.tween[c].x,y:this.tween[c].y,isVisible:!0},this.$pointer[c].style.left=`${this.tween[c].x}px`,this.$pointer[c].style.top=`${this.tween[c].y}px`;let g=h==null||(n=h.pinchState)===null||n===void 0||(l=n[i])===null||l===void 0?void 0:l[0];if(g&&h.isVisible){g=La[g];const E=document.elementFromPoint(h.x,h.y);E&&E.dispatchEvent(new MouseEvent(g,{view:window,button:0,bubbles:!0,cancelable:!0,clientX:h.x,clientY:h.y,movementX:h.x-ft[c].x,movementY:h.y-ft[c].y})),ft[c]=h}}),t.pointer.forEach((e,i)=>{e.isVisible?this.$pointer[i].style.display="block":this.$pointer[i].style.display="none"})},onDisable(){this.$pointer.forEach(t=>{t.classList.add("handsfree-hidden")})},showPointers(){this.arePointersVisible=!0;for(let t=0;t<4;t++)this.$pointer[t].classList.remove("handsfree-hidden")},hidePointers(){this.arePointersVisible=!1;for(let t=0;t<4;t++)this.$pointer[t].classList.add("handsfree-hidden")}};const Nt={facePointer:Ca,faceClick:$a,faceScroll:Ra,pinchScroll:Oa,pinchers:Aa,palmPointers:Ma};let ja=0;class ka{constructor(e={}){this.throttle=It,this.TweenMax=Da,this.id=++ja,this.version="8.5.1",this.data={},this.dependencies={loading:[],loaded:[]},this.mediapipeWarmups={isWarmingUp:!1,hands:!1,pose:!1,facemesh:!1},this.plugin={},this.taggedPlugins={untagged:[]},this.gesture={},this.taggedGestures={untagged:[]},this.config=this.cleanConfig(e),this.setupDebugger(),this.prepareModels(),this.loadCorePlugins(),this.hasAddedBodyClass=!1,this.isUpdating=!1,this.numModelsLoaded=0,this.on("modelReady",()=>{let i=0;Object.keys(this.model).forEach(n=>{this.model[n].enabled&&++i}),++this.numModelsLoaded===i&&(document.body.classList.remove("handsfree-loading"),document.body.classList.add("handsfree-started"),this.hasAddedBodyClass=!0,!this.config.isClient&&(!this.isUpdating||this.isUpdating&&this.config.autostart)&&(this.isLooping=!0,this.loop()))}),this.emit("init",this)}prepareModels(){this.model={weboji:{},hands:{},facemesh:{},pose:{},handpose:{}},this.model.weboji=new Qt(this,this.config.weboji),this.model.hands=new ct(this,this.config.hands),this.model.pose=new Kt(this,this.config.pose),this.model.facemesh=new Yt(this,this.config.facemesh),this.model.handpose=new Xt(this,this.config.handpose)}cleanConfig(e,i){return i||(i=Object.assign({},ha)),i.setup.wrap.$parent=document.body,typeof e.weboji=="boolean"&&(e.weboji={enabled:e.weboji}),typeof e.hands=="boolean"&&(e.hands={enabled:e.hands}),typeof e.facemesh=="boolean"&&(e.facemesh={enabled:e.facemesh}),typeof e.pose=="boolean"&&(e.pose={enabled:e.pose}),typeof e.handpose=="boolean"&&(e.handpose={enabled:e.handpose}),e.plugin&&Object.keys(e.plugin).forEach(n=>{typeof e.plugin[n]=="boolean"&&(e.plugin[n]={enabled:e.plugin[n]})}),e.gesture&&Object.keys(e.gesture).forEach(n=>{typeof e.gesture[n]=="boolean"&&(e.gesture[n]={enabled:e.gesture[n]})}),je({},i,e)}update(e,i){this.config=this.cleanConfig(e,this.config),this.isUpdating=!0,this.isUsingWebcam=!this.config.setup.video.$el.currentSrc,this.debug.$video=this.config.setup.video.$el,this.debug.$video.width=this.config.setup.video.width,this.debug.$video.height=this.config.setup.video.height,["hands","facemesh","pose","handpose","weboji"].forEach(n=>{let l=this.model[n].enabled;this.config[n]=this.model[n].config=je({},this.model[n].config,e[n]),l&&!this.config[n].enabled?this.model[n].disable():!l&&this.config[n].enabled&&this.model[n].enable(!1)}),e.plugin&&Object.keys(e.plugin).forEach(n=>{typeof e.plugin[n].enabled=="boolean"&&(e.plugin[n].enabled?this.plugin[n].enable():this.plugin[n].disable())}),e.gesture&&Object.keys(e.gesture).forEach(n=>{typeof e.gesture[n].enabled=="boolean"&&(e.gesture[n].enabled?this.gesture[n].enable():this.gesture[n].disable())}),!this.config.isClient&&this.config.autostart?this.start(i):i&&i()}start(e){this.config=this.cleanConfig(this.config,this.config),this.isUpdating=!1,document.body.classList.add("handsfree-loading"),this.emit("loading",this),e&&this.on("modelReady",e,{once:!0}),this.numModelsLoaded=0,Object.keys(this.model).forEach(i=>{const n=this.model[i];n.enabled&&!n.dependenciesLoaded?n.loadDependencies():n.enabled&&(this.emit("modelReady",n),this.emit(`${i}ModelReady`,n))}),Object.keys(this.config.plugin).forEach(i=>{var n,l;typeof((n=this.config.plugin)===null||n===void 0||(l=n[i])===null||l===void 0?void 0:l.enabled)=="boolean"&&this.config.plugin[i].enabled&&this.plugin[i].enable()}),Object.keys(this.config.gesture).forEach(i=>{var n,l;typeof((n=this.config.gesture)===null||n===void 0||(l=n[i])===null||l===void 0?void 0:l.enabled)=="boolean"&&this.config.gesture[i].enabled&&this.gesture[i].enable()})}stop(){location.reload()}pause(){this.isLooping=!1}unpause(){this.isLooping||(this.isLooping=!0,this.loop())}loop(){var e;Object.keys(this.model).forEach(i=>{const n=this.model[i];n.enabled&&n.dependenciesLoaded&&n.getData()}),this.emit("data",this.data),(e=this.taggedPlugins.untagged)===null||e===void 0||e.forEach(i=>{var n;this.plugin[i].enabled&&((n=this.plugin[i])===null||n===void 0||n.onFrame(this.data))}),this.isDebugging&&["hands","pose","handpose","facemesh"].find(n=>{if(this.model[n].enabled)return n})&&this.debug.context.video.drawImage(this.debug.$video,0,0,this.debug.$canvas.video.width,this.debug.$canvas.video.height),this.isLooping&&requestAnimationFrame(()=>this.isLooping&&this.loop())}use(e,i){return typeof i=="function"&&(i={onFrame:i}),i=je({},{name:e,models:[],tags:[],enabled:!0,config:{},onFrame:null,onUse:null,onEnable:null,onDisable:null},i),typeof i.models=="string"&&(i.models=[i.models]),typeof i.tags=="string"&&(i.tags=[i.tags]),i.tags.forEach(n=>{this.taggedPlugins[n]||(this.taggedPlugins[n]=[]),this.taggedPlugins[n].push(e)}),this.plugin[e]=new aa(i,this),this.plugin[e].onUse&&this.plugin[e].onUse(),i.models.length?i.models.forEach(n=>{this.model[n].plugins.push(e)}):this.taggedPlugins.untagged.push(e),this.plugin[e]}enablePlugins(e){typeof e=="string"&&(e=[e]),e||(e=Object.keys(this.taggedPlugins)),e.forEach(i=>{this.taggedPlugins[i].forEach(n=>{this.plugin[n].enable()})})}disablePlugins(e){typeof e=="string"&&(e=[e]),e||(e=Object.keys(this.taggedPlugins)),e.forEach(i=>{this.taggedPlugins[i].forEach(n=>{this.plugin[n].disable()})})}runPlugins(e){var i;this.data=e,this.config.isClient&&!this.hasAddedBodyClass&&(document.body.classList.add("handsfree-started"),this.hasAddedBodyClass=!0),Object.keys(this.model).forEach(n=>{this.model[n].data=e==null?void 0:e[n],this.model[n].runPlugins()}),(i=this.taggedPlugins.untagged)===null||i===void 0||i.forEach(n=>{var l;this.plugin[n].enabled&&((l=this.plugin[n])===null||l===void 0||l.onFrame(this.data))})}useGesture(e){switch(e=je({},{name:"untitled",description:[],models:[],tags:[],enabled:!0},e),typeof e.models=="string"&&(e.models=[e.models]),typeof e.tags=="string"&&(e.tags=[e.tags]),e.tags.forEach(i=>{this.taggedGestures[i]||(this.taggedGestures[i]=[]),this.taggedGestures[i].push(e.name)}),e.algorithm){case"fingerpose":this.gesture[e.name]=new la(e,this);break}return e.models.length?e.models.forEach(i=>{this.model[i].gestures.push(e.name),this.model[i].updateGestureEstimator()}):this.taggedGestures.untagged.push(e.name),this.gesture[e.name]}enableGestures(e){typeof e=="string"&&(e=[e]),e||(e=Object.keys(this.taggedGestures)),e.forEach(i=>{this.taggedGestures[i].forEach(n=>{this.gesture[n].enable()})})}disableGestures(e){typeof e=="string"&&(e=[e]),e||(e=Object.keys(this.taggedGestures)),e.forEach(i=>{this.taggedGestures[i].forEach(n=>{this.gesture[n].disable()})})}emit(e,i=null){const n=new CustomEvent(`handsfree-${e}`,{detail:i});document.dispatchEvent(n)}on(e,i,n){document.addEventListener(`handsfree-${e}`,l=>{i(l.detail)},n)}normalize(e,i,n=0){return(e-n)/(i-n)}getUserMedia(e){if(!this.debug.stream&&!this.debug.isGettingStream){var i,n;this.isUsingWebcam&&(i=this.model.weboji)!==null&&i!==void 0&&(n=i.api)!==null&&n!==void 0&&n.get_videoStream?(this.debug.$video=this.model.weboji.api.get_video(),this.debug.$video.srcObject=this.debug.stream=this.model.weboji.api.get_videoStream(),this.emit("gotUserMedia",this.debug.stream),e&&e()):this.isUsingWebcam?(this.debug.isGettingStream=!0,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:this.debug.$video.width,height:this.debug.$video.height}}).then(l=>{this.debug.$video.srcObject=this.debug.stream=l,this.debug.$video.onloadedmetadata=()=>{this.debug.$video.play(),this.emit("gotUserMedia",l),e&&e()}}).catch(l=>{console.error(`Error getting user media: ${l}`)}).finally(()=>{this.debug.isGettingStream=!1})):(this.debug.stream=this.debug.$video.srcObject,this.debug.$video.play(),this.emit("gotUserMedia",this.debug.stream),e&&e(),this.debug.isGettingStream=!1)}else!this.debug.stream&&this.debug.isGettingStream?e&&this.on("gotUserMedia",e):(this.debug.$video.play(),this.emit("gotUserMedia",this.debug.stream),e&&e())}loadCorePlugins(){Object.keys(Nt).forEach(e=>{this.use(e,Nt[e])})}setupDebugger(){if(this.debug={},!this.config.setup.wrap.$el){const e=document.createElement("DIV");e.classList.add("handsfree-debugger"),this.config.setup.wrap.$el=e}if(this.debug.$wrap=this.config.setup.wrap.$el,this.config.setup.video.$el)this.debug.$video=this.config.setup.video.$el,this.isUsingWebcam=!1;else{const e=document.createElement("VIDEO");e.setAttribute("playsinline",!0),e.classList.add("handsfree-video"),e.setAttribute("id",`handsfree-video-${this.id}`),this.config.setup.video.$el=e,this.isUsingWebcam=!0,this.debug.$video=this.config.setup.video.$el,this.debug.$wrap.appendChild(this.debug.$video)}this.debug.$video.width=this.config.setup.video.width,this.debug.$video.height=this.config.setup.video.height,this.debug.$canvas={},this.debug.context={},this.config.setup.canvas.video={width:this.debug.$video.width,height:this.debug.$video.height},["video","weboji","facemesh","pose","hands","handpose"].forEach(e=>{this.debug.$canvas[e]={},this.debug.context[e]={};let i=this.config.setup.canvas[e].$el;i||(i=document.createElement("CANVAS"),this.config.setup.canvas[e].$el=i),i.classList.add("handsfree-canvas",`handsfree-canvas-${e}`,`handsfree-hide-when-started-without-${e}`),i.setAttribute("id",`handsfree-canvas-${e}-${this.id}`),this.debug.$canvas[e]=this.config.setup.canvas[e].$el,this.debug.$canvas[e].width=this.config.setup.canvas[e].width,this.debug.$canvas[e].height=this.config.setup.canvas[e].height,this.debug.$wrap.appendChild(this.debug.$canvas[e]),["weboji","handpose"].includes(e)?this.debug.$canvas[e].classList.add("handsfree-canvas-webgl"):this.debug.context[e]=this.debug.$canvas[e].getContext("2d")}),this.config.setup.wrap.$parent.appendChild(this.debug.$wrap),this.config.showDebug?this.showDebugger():this.hideDebugger()}showDebugger(){this.isDebugging=!0,document.body.classList.add("handsfree-show-debug"),document.body.classList.remove("handsfree-hide-debug")}hideDebugger(){this.isDebugging=!1,document.body.classList.remove("handsfree-show-debug"),document.body.classList.add("handsfree-hide-debug")}}return ka})})(Va);const Ba={id:"video",class:"video-wrap"},qa=ut("div",null,null,-1),Qa={props:{audio:{type:Boolean,default:!1},width:{type:Number,default:600},height:{type:Number,default:500}},emits:["camaraLoad"],setup(ve,{emit:_e}){const he=ve;Ke(null);const Pe=Ke(null),Xe=Ke(!1);za(()=>{}),qt(()=>{});const $e=Ke({audio:he.audio,video:{width:he.width,height:he.height}}),Qe=async()=>{try{const ne=await navigator.mediaDevices.getUserMedia($e.value);Ze(ne)}catch(ne){console.log(`navigator.getUserMedia error:${ne.toString()}`)}},Ze=ne=>{window.stream=ne,Pe.value.srcObject=ne,Xe.value=!0,_e("camaraLoad")};return qt(()=>{Qe()}),(ne,ct)=>(Wa(),Ga("div",null,[ut("div",Ba,[ut("video",{ref_key:"video",ref:Pe,id:"video",playsinline:"",autoplay:""},null,512)]),qa]))}};export{Qa as default};
